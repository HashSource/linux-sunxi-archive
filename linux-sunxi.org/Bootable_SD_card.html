
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Bootable SD card - linux-sunxi.org</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"6a47fb7b76284b2fc4ac8921","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Bootable_SD_card","wgTitle":"Bootable SD card","wgCurRevisionId":26799,"wgRevisionId":26799,"wgArticleId":172,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Software","Tutorial","Boot"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Bootable_SD_card","wgRelevantArticleId":172,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","noscript":
"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.cite.styles":"ready","skins.vector.styles.legacy":"ready","mediawiki.toc.styles":"ready"};RLPAGEMODULES=["ext.RegularTooltips","ext.cite.ux-enhancements","site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=ext.cite.styles%7Cmediawiki.toc.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://linux-sunxi.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.8"/>
<link rel="shortcut icon" href="https://linux-sunxi.org/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://linux-sunxi.org/opensearch_desc.php" title="linux-sunxi.org (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://linux-sunxi.org/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="linux-sunxi.org Atom feed" href="https://linux-sunxi.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="Bootable_SD_card.html"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Bootable_SD_card rootpage-Bootable_SD_card skin-vector action-view skin-vector-legacy">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Bootable SD card</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From linux-sunxi.org</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#SD_Card_Layout"><span class="tocnumber">2</span> <span class="toctext">SD Card Layout</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Identify_the_card"><span class="tocnumber">3</span> <span class="toctext">Identify the card</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Cleaning"><span class="tocnumber">4</span> <span class="toctext">Cleaning</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Bootloader"><span class="tocnumber">5</span> <span class="toctext">Bootloader</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Partitioning"><span class="tocnumber">6</span> <span class="toctext">Partitioning</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#With_separate_boot_partition"><span class="tocnumber">6.1</span> <span class="toctext">With separate boot partition</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Boot_Partition"><span class="tocnumber">6.1.1</span> <span class="toctext">Boot Partition</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Single_partition"><span class="tocnumber">6.2</span> <span class="toctext">Single partition</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Boot_Partition_2"><span class="tocnumber">6.2.1</span> <span class="toctext">Boot Partition</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#GPT_.28experimental.29"><span class="tocnumber">6.3</span> <span class="toctext">GPT (experimental)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Boot_Script"><span class="tocnumber">7</span> <span class="toctext">Boot Script</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Rootfs"><span class="tocnumber">8</span> <span class="toctext">Rootfs</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Using_rootfs_tarball"><span class="tocnumber">8.1</span> <span class="toctext">Using rootfs tarball</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Linaro_rootfs"><span class="tocnumber">8.1.1</span> <span class="toctext">Linaro rootfs</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Rootfs_from_LinuxContainers"><span class="tocnumber">8.1.2</span> <span class="toctext">Rootfs from LinuxContainers</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Using_debootstrap_-_Debian.2FUbuntu_based_distributions"><span class="tocnumber">8.2</span> <span class="toctext">Using debootstrap - Debian/Ubuntu based distributions</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Kernel_modules"><span class="tocnumber">8.3</span> <span class="toctext">Kernel modules</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Troubleshooting"><span class="tocnumber">9</span> <span class="toctext">Troubleshooting</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#See_also"><span class="tocnumber">10</span> <span class="toctext">See also</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#External"><span class="tocnumber">10.1</span> <span class="toctext">External</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#References"><span class="tocnumber">10.2</span> <span class="toctext">References</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>This page describes how to create a bootable SD card. Depending on how the SD card is connected, the location to write data to can be different.
Throughout this document <kbd>${card}</kbd> refers to the SD card and <kbd>${p}</kbd> to the partition if any.
If the SD card is connected via a USB adapter, linux will know it for example as <kbd>/dev/sdb</kbd> (with <kbd>/dev/sda</kbd> being a boot drive). Please notice that this device can be different based on numerous factors, so when not sure, check the last few lines of dmesg after plugging in the device (<code>dmesg&#160;|&#160;tail</code>).
If connected via a SD slot on a device, linux will know it as <kbd>/dev/mmcblk0</kbd> (or <kbd>mmcblk1</kbd>, <kbd>mmcblk2</kbd> depending on which mmc slot is used).
</p><p>Data is either stored raw on the SD card or in a partition. If <kbd>${p}</kbd> is used then the appropiate partition should be used. Also this differs for USB adapters or mmc controllers. When using an USB adapter, <kbd>${p}</kbd> will be 1, 2, 3 etc so the resulting device is <kbd>/dev/sdb1</kbd>. Using an mmc controller, this would be p1, p2, p3 etc so the resulting device is <kbd>/dev/mmcblk0p1</kbd>.
</p><p>To summarize: <kbd>${card}</kbd> and <kbd>${card}${p}1</kbd> mean <kbd>/dev/sdb</kbd> and <kbd>/dev/sdb1</kbd> on a USB connected SD card, and <kbd>/dev/mmcblk0</kbd>, <kbd>/dev/mmcblk0p1</kbd> on an mmc controller connected device.
</p><p><a href="https://linux-sunxi.org/File:Exclamation.png" class="image"><img alt="Exclamation.png" src="https://linux-sunxi.org/images/c/c0/Exclamation.png" decoding="async" width="16" height="16" /></a>  If the SD card is connected in another way, the device nodes can change to be even different, take this into account.
</p>
<h2><span class="mw-headline" id="SD_Card_Layout">SD Card Layout</span></h2>
<p>A default <a href="U-Boot.html" title="U-Boot">U-Boot</a> build for an Allwinner based board uses the following layout on (micro-)SD cards or eMMC storage (from v2018.05 or newer):
</p>
<table class="wikitable">
<tbody><tr>
<th>start
</th>
<th>sector
</th>
<th>size
</th>
<th>usage
</th></tr>
<tr>
<td>0KB</td>
<td>0</td>
<td>8KB</td>
<td>Unused, available for an MBR or (limited) GPT partition table
</td></tr>
<tr>
<td>8KB</td>
<td>16</td>
<td>32KB</td>
<td>Initial SPL loader
</td></tr>
<tr>
<td>40KB</td>
<td>80</td>
<td>-</td>
<td>U-Boot proper
</td></tr></tbody></table>
<p>Typically partitions start at 1MB (which is the default setting of most partitioning tools), but there is no hard requirement for this, so U-Boot can grow bigger than 984KB, if needed.
</p><p>The 8KB offset is dictated by the <a href="BROM.html" title="BROM">BROM</a>, it will check for a valid <a href="EGON.html" title="EGON">eGON</a>/TOC0 header at this location. On newer SoCs (H6 and later) the SPL can be bigger, the SPL will then load U-Boot proper right after the SPL, though the offset after the SPL must be at least 64 sectors, as set via the <code>CONFIG_SYS_MMCSD_RAW_MODE_U_BOOT_SECTOR</code> configuration variable.
</p><p>Newer SoCs (anything later starting from H3, including A64/H5 and T113) can also load the SPL from sector 256 (128KB) of an SD card or eMMC, if no valid eGON/TOC0 signature is found at 8KB (<a href="BROM.html#eGON_Boot" title="BROM">BROM boot order</a>). The H616/H618 has the alternative location moved up to 256 KB instead of 128 KB. Mainline U-Boot knows about this and detects both low and high boot locations automatically, so the same image file can be both put at 8k or 128k/256k. More details in <a rel="nofollow" class="external text" href="https://groups.google.com/forum/#!topic/linux-sunxi/MaiijyaAFjk#!topic/linux-sunxi/MaiijyaAFjk">this email</a>.
</p><p>Mainline U-Boot used to have a more complex, fixed layout for the SD card/eMMC sectors in the first Megabyte:
</p>
<table class="wikitable">
<caption>Legacy SD card layout
</caption>
<tbody><tr>
<th>start
</th>
<th>sector
</th>
<th>size
</th>
<th>usage
</th></tr>
<tr>
<td>0KB</td>
<td>0</td>
<td>8KB</td>
<td>Unused, available for MBR (partition table etc.)
</td></tr>
<tr>
<td>8KB</td>
<td>16</td>
<td>32KB</td>
<td>Initial SPL loader
</td></tr>
<tr>
<td>40KB</td>
<td>80</td>
<td>504KB</td>
<td>U-Boot
</td></tr>
<tr>
<td>544KB</td>
<td>1088</td>
<td>128KB</td>
<td>environment
</td></tr>
<tr>
<td>672KB</td>
<td>1344</td>
<td>128KB</td>
<td>Falcon mode boot params
</td></tr>
<tr>
<td>800KB</td>
<td>1600</td>
<td>-</td>
<td>Falcon mode kernel start
</td></tr>
<tr>
<td>1024KB</td>
<td>2048</td>
<td>-</td>
<td>Free for partitions
</td></tr></tbody></table>
<p>As the feature set of U-Boot proper grew over time, this proved to be too restricting, as we completely filled the area before the environment and started to corrupt it. To avoid future issues, it was decided to move the default location for the environment to a FAT partition, which is more flexible and has no real size limits.
</p>
<h2><span class="mw-headline" id="Identify_the_card">Identify the card</span></h2>
<p>First identify the device of the card and export it as <tt>${card}</tt>. The commands
<br /><code>cat /proc/partitions</code>
<br />or
<br /><code>blkid -c /dev/null</code>
<br />can help with finding available/correct partition names.
</p>
<ul><li>If the SD card is connected via USB and is sdX (replace X for a correct letter)</li></ul>
<pre class="brush: bash">export card=/dev/sdX
export p=""
</pre>
<ul><li>If the SD card is connected via mmc and is mmcblk0</li></ul>
<pre class="brush: bash">export card=/dev/mmcblk0
export p=p
</pre>
<h2><span class="mw-headline" id="Cleaning">Cleaning</span></h2>
<p>To be on safe side erase the first part of your SD Card (also clears the partition table).
</p>
<pre class="brush: bash">dd if=/dev/zero of=${card} bs=1M count=1</pre>
<p>If you wish to keep the partition table, run:
</p>
<pre class="brush: bash">dd if=/dev/zero of=${card} bs=1k count=1023 seek=1</pre>
<h2><span class="mw-headline" id="Bootloader">Bootloader</span></h2>
<p>You will need to write the <i>u-boot-sunxi-with-spl.bin</i> to the sd-card. If you don't have this file yet, refer to the "compilation" section of <a href="U-Boot.html#Compile_U-Boot" title="U-Boot">mainline</a> or <a href="U-Boot/Legacy_U-Boot.html#Compile_U-Boot" title="U-Boot/Legacy U-Boot">legacy</a> U-Boot.
</p>
<pre class="brush: shell">dd if=u-boot-sunxi-with-spl.bin of=${card} bs=1024 seek=8
</pre>
<p>To update the bootloader from the U-Boot prompt itself:
</p>
<pre class="brush: shell">mw.b 0x48000000 0x00 0x100000                 # Zero buffer
tftp 0x48000000 u-boot-sunxi-with-spl.bin     # Or use load to read from MMC or SCSI etc
mmc erase 0x10 0x400                          # Erase the MMC region containing U-Boot, do not reset at this point!
mmc write 0x48000000 0x10 0x400               # Write updated U-Boot
</pre>
<p>If using U-Boot v2013.07 or earlier then the offsets, and therefore procedure, are slightly different:
</p><p><i>Note: if bootloader was generated by Buildroot (tested on 2015.02), this is the case.</i>
</p>
<pre class="brush: shell">dd if=spl/sunxi-spl.bin of=${card} bs=1024 seek=8
dd if=u-boot.bin of=${card} bs=1024 seek=32
</pre>
<h2><span class="mw-headline" id="Partitioning">Partitioning</span></h2>
<p>With recent <a href="U-Boot.html" title="U-Boot">U-Boot</a> it's fine to use ext2/ext4 as boot partition, and other filesystems in the root partition too.
</p>
<h3><span class="mw-headline" id="With_separate_boot_partition">With separate boot partition</span></h3>
<p>Partition the card with a 16MB boot partition starting at 1MB, and the rest as root partition
</p>
<pre class="brush: bash">blockdev --rereadpt ${card}
cat &lt;&lt;EOT | sfdisk ${card}
1M,16M,c
,,L
EOT
</pre>
<p>You should now be able to create the actual filesystems:
</p>
<pre class="brush: bash">mkfs.vfat ${card}${p}1
mkfs.ext4 ${card}${p}2
</pre>
<pre class="brush: bash">cardroot=${card}${p}2
</pre>
<h4><span class="mw-headline" id="Boot_Partition">Boot Partition</span></h4>
<pre class="brush: shell">mount ${card}${p}1 /mnt/
cp kernel/arch/arm/boot/zImage /mnt/
cp kernel/arch/arm/boot/dts/allwinner/sunXi-board.dtb /mnt/
umount /mnt/
</pre>
<h3><span class="mw-headline" id="Single_partition">Single partition</span></h3>
<pre class="brush: bash">blockdev --rereadpt ${card}
sfdisk  ${card}
cat &lt;&lt;EOT | sfdisk ${card}
1M,,L
EOT
</pre>
<pre class="brush: bash">mkfs.ext4 ${card}${p}1
</pre>
<pre class="brush: bash">cardroot=${card}${p}1
</pre>
<h4><span class="mw-headline" id="Boot_Partition_2">Boot Partition</span></h4>
<pre class="brush: shell">mount ${card}${p}1 /mnt/
mkdir /mnt/boot
cp kernel/arch/arm/boot/zImage /mnt/boot
cp kernel/arch/arm/boot/dts/allwinner/sunXi-board.dtb /mnt/boot
umount /mnt/
</pre>
<h3><span id="GPT_(experimental)"></span><span class="mw-headline" id="GPT_.28experimental.29">GPT (experimental)</span></h3>
<p>There is 8kb space for partition data. MBR uses only the first sector and allows for 4 partitions. If you are concerned about the 4 partition limitation you can try different partitioning scheme. While GPT standard mandates that GPT should have at least 128 entries gdisk can resize a GPT partition to 56 entries which fit into the 7kb that follow the protective MBR header and GPT header. Linux understands such GPT but some tools refuse it since it does not adhere to the standard. YMMV<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">&#91;1&#93;</a></sup>
</p><p>The GPT partition table can also be moved out of the way of the SPL and U-Boot. This has the advantage that the full 128 or more partition table entries mandated by the GPT standard can be used. The start of the partition table is stored in the GPT header (LBA 1), and is usually set to 2. Version 1.0.3 and later of the gdisk program has the ability to change this value (command j in the "extra functionality" menu). The following table shows the card layout with the partition table start relocated to LBA 2048.
</p>
<table class="wikitable">
<tbody><tr>
<th>start
</th>
<th>size
</th>
<th>usage
</th></tr>
<tr>
<td>0</td>
<td>0.5KB</td>
<td>Protective MBR
</td></tr>
<tr>
<td>1</td>
<td>0.5KB</td>
<td>GPT header
</td></tr>
<tr>
<td>2</td>
<td>7KB</td>
<td>Unused
</td></tr>
<tr>
<td>8</td>
<td>32KB</td>
<td>Initial SPL loader
</td></tr>
<tr>
<td>40</td>
<td>504KB</td>
<td>U-Boot
</td></tr>
<tr>
<td>544</td>
<td>128KB</td>
<td>environment
</td></tr>
<tr>
<td>672</td>
<td>128KB</td>
<td>Falcon mode boot params
</td></tr>
<tr>
<td>800</td>
<td>-</td>
<td>Falcon mode kernel start
</td></tr>
<tr>
<td>1024</td>
<td>16KB</td>
<td>Partition table
</td></tr>
<tr>
<td>1056</td>
<td>-</td>
<td>Free for partitions
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Boot_Script">Boot Script</span></h2>
<p>Preparation of a boot script is described on the <a href="Mainline_U-Boot.html#Configure_U-Boot" class="mw-redirect" title="Mainline U-Boot">U-Boot configuration</a> page.
</p>
<h2><span class="mw-headline" id="Rootfs">Rootfs</span></h2>
<p>This depends on what distribution you want to install. Which partition layout you use does not matter much, since the root device is passed to the kernel as argument. You might need tweaks to <kbd>/etc/fstab</kbd> or other files if your layout does not match what the rootfs expects. As of this writing most available images use two partitions with separate <kbd>/boot</kbd>.
</p>
<h3><span class="mw-headline" id="Using_rootfs_tarball">Using rootfs tarball</span></h3>
<pre class="brush: shell">mount ${card}${p}2 /mnt/
tar -C /mnt/ -xjpf my-chosen-rootfs.tar.bz2
umount /mnt
</pre>
<h4><span class="mw-headline" id="Linaro_rootfs">Linaro rootfs</span></h4>
<p>Linaro offers a set of <a rel="nofollow" class="external text" href="https://wiki.linaro.org/Platform/DevPlatform/Rootfs">different root filesystems</a>. A retention policy of 30 days applies to Linaro rootfs on snapshot servers. New snapshots can be generated on request. Latest snapshots can be made from sources such as <a rel="nofollow" class="external text" href="https://git.linaro.org/gitweb?p=ci/ubuntu-build-service.git">Ubuntu Build Service</a>
</p><p>In any case, you can get <a rel="nofollow" class="external text" href="http://snapshots.linaro.org/ubuntu/images/">the actual rootfs tarballs here</a>. ALIP is a minimal LXDE based desktop environment which might me useful to most allwinner users.
</p><p>Note that recent (2015, and maybe even earlier) versions of ALIP/Linaro/Ubuntu and any other rootfs that makes use of <i>systemd</i> (and possibly also <i>upstart</i>) can only be used with a kernel compiled with <kbd>CONFIG_FHANDLE=y</kbd><sup id="cite_ref-2" class="reference"><a href="#cite_note-2">&#91;2&#93;</a></sup>. In the default configuration of the Sunxi-3.4 kernel this option is <u>not</u> set (It says "<i># CONFIG_FHANDLE is not set</i>" in <kbd>.config</kbd>). So you must take care of this yourself during kernel configuration (<i>"General Setup", "Open by fhandle syscalls"</i>).
</p><p>Otherwise your kernel will boot, rootfs will mount and after that nothing will happen: no login prompt will appear on any console. If you must use a kernel without <kbd>CONFIG_FHANDLE</kbd>, try using a Debian rootfs with <i>sysvinit</i>.
</p>
<h4><span class="mw-headline" id="Rootfs_from_LinuxContainers">Rootfs from LinuxContainers</span></h4>
<p>LinuxContainers projects has various downloadable <a rel="nofollow" class="external text" href="https://images.linuxcontainers.org/images/">rootfs images</a>.
</p>
<h3><span id="Using_debootstrap_-_Debian/Ubuntu_based_distributions"></span><span class="mw-headline" id="Using_debootstrap_-_Debian.2FUbuntu_based_distributions">Using debootstrap - Debian/Ubuntu based distributions</span></h3>
<p>Using Debian's Debootstrap, you can create your own rootfs from scratch. The process is described <a href="Debootstrap.html" title="Debootstrap"> in the debootstrap howto</a>.
</p>
<h3><span class="mw-headline" id="Kernel_modules">Kernel modules</span></h3>
<p>When you have copied rootfs to your card you might want to <a href="Manual_build_howto.html#Setting_up_the_rootfs" title="Manual build howto">copy the kernel modules</a> as well.
</p>
<h1><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h1>
<ul><li><b>Check partitioning</b>  - if you did the partitioning yourself read back the layout with <kbd>sfdisk</kbd> in sectors. <kbd>sfdisk</kbd> and <kbd>gparted</kbd> sometimes apply weird rounding when using megabytes.</li></ul>
<pre>sfdisk -uS -d /dev/sdd
# partition table of /dev/sdd
unit: sectors

/dev/sdd1&#160;: start=     2048, size= 16150528, Id=83
/dev/sdd2&#160;: start=        0, size=        0, Id= 0
/dev/sdd3&#160;: start=        0, size=        0, Id= 0
/dev/sdd4&#160;: start=        0, size=        0, Id= 0
</pre>
<ul><li><b>Re-check that you have written the image correctly</b> Check image checksum if provided. Re-read writing instructions carefully. Try another writing method if available - dd / phoenixsuit / win32-diskimage. Especially writing on Windows tends to cause trouble. If your board is new you can try an image for similar board with the same CPU. Use <a href="UART.html" title="UART">console cable</a> if you have one to check the boot messages.</li></ul>
<ul><li><b>Power off the board completely before booting</b> If you are using a console cable the board may not power off completely. There is a possiblility that self-powered USB peripherials or USB hubs may cause sililar issue. The red power light would get dimmer when the board is off but does not turn off completely. In this case the mmc controller may not get reset properly and the board boots from nand. Power off the board, disconnect all peripherials, and disconnect the serial console cable. Try booting again. You can re-connect your peripherials before booting. This issue does not seem to happen when the kernel powers down the mmc controller properly but is common when the kernel crashes.</li></ul>
<ul><li><b>Check for bad micro-SD card contact</b> This is common issue on boards that use micro-SD socket. Try removing and re-inserting the card, cleaning the contacs on the card and dusting off the SD card socket. Some people report that inserting the card together with a piece of paper improves contact and allows booting cards which are too loose in the socket.</li></ul>
<h1><span class="mw-headline" id="See_also">See also</span></h1>
<ul><li><a href="FEL#Through_a_special_SD_card_image" title="FEL">FEL</a> (Special formatted SD card for FEL boot)</li>
<li><a href="U-Boot.html" title="U-Boot">U-Boot</a></li></ul>
<h2><span class="mw-headline" id="External">External</span></h2>
<ul><li><a class="external text" href="https://github.com/linux-sunxi/u-boot-sunxi/wiki">Additional info on sunxi's flavor of U-Boot</a></li></ul>
<h2><span class="mw-headline" id="References">References</span></h2>
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text"><a rel="nofollow" class="external free" href="https://en.wiktionary.org/wiki/YMMV">https://en.wiktionary.org/wiki/YMMV</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text"><a rel="nofollow" class="external free" href="http://unix.stackexchange.com/questions/169935/no-login-prompt-on-serial-console">http://unix.stackexchange.com/questions/169935/no-login-prompt-on-serial-console</a></span>
</li>
</ol></div>
<!-- 
NewPP limit report
Cached time: 20251029180737
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.069 seconds
Real time usage: 0.087 seconds
Preprocessor visited node count: 199/1000000
Post‐expand include size: 143/2097152 bytes
Template argument size: 117/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2929/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.999      1 Template:Warn
100.00%    3.999      1 -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:172-0!canonical and timestamp 20251029180737 and revision id 26799
 -->
</div></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://linux-sunxi.org/index.php?title=Bootable_SD_card&amp;oldid=26799">https://linux-sunxi.org/index.php?title=Bootable_SD_card&amp;oldid=26799</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://linux-sunxi.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://linux-sunxi.org/Category:Software" title="Category:Software">Software</a></li><li><a href="https://linux-sunxi.org/Category:Tutorial" title="Category:Tutorial">Tutorial</a></li><li><a href="https://linux-sunxi.org/Category:Boot" title="Category:Boot">Boot</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-personal" class="vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label">
		<span>Personal tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="pt-createaccount"><a href="https://linux-sunxi.org/index.php?title=Special:CreateAccount&amp;returnto=Bootable+SD+card" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://linux-sunxi.org/index.php?title=Special:UserLogin&amp;returnto=Bootable+SD+card" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li></ul>
		
	</div>
</nav>


		<div id="left-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-namespaces" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label">
		<span>Namespaces</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected"><a href="Bootable_SD_card.html" title="View the content page [c]" accesskey="c">Page</a></li><li id="ca-talk"><a href="https://linux-sunxi.org/Talk:Bootable_SD_card" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-variants" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>Variants</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


		</div>
		<div id="right-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-views" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label">
		<span>Views</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-view" class="collapsible selected"><a href="Bootable_SD_card.html">Read</a></li><li id="ca-viewsource" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=Bootable_SD_card&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=Bootable_SD_card&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-cactions" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-cactions-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>More</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


			<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">Search</label>
	</h3>
	<form action="https://linux-sunxi.org/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="Search linux-sunxi.org" title="Search linux-sunxi.org [f]" accesskey="f" id="searchInput"/>
			<input type="hidden" name="title" value="Special:Search">
			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a  title="Visit the main page" class="mw-wiki-logo" href="Main_Page.html"></a>
	</div>
	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-navigation" class="vector-menu vector-menu-portal portal portal-first" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<h3 id="p-navigation-label">
		<span>Navigation</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-portal"><a href="sunxi:Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="https://linux-sunxi.org/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="https://linux-sunxi.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="The place to find out">Help</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-tb" class="vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label">
		<span>Tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere"><a href="https://linux-sunxi.org/Special:WhatLinksHere/Bootable_SD_card" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://linux-sunxi.org/Special:RecentChangesLinked/Bootable_SD_card" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://linux-sunxi.org/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://linux-sunxi.org/index.php?title=Bootable_SD_card&amp;oldid=26799" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://linux-sunxi.org/index.php?title=Bootable_SD_card&amp;action=info" title="More information about this page">Page information</a></li></ul>
		
	</div>
</nav>


	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
		<li id="footer-info-lastmod"> This page was last edited on 29 October 2025, at 09:36.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a> unless otherwise noted.</li>
	</ul>
	<ul id="footer-places" >
		<li id="footer-places-privacy"><a href="https://linux-sunxi.org/sunxi:Privacy_policy" title="sunxi:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="https://linux-sunxi.org/sunxi:About" title="sunxi:About">About linux-sunxi.org</a></li>
		<li id="footer-places-disclaimer"><a href="https://linux-sunxi.org/sunxi:General_disclaimer" title="sunxi:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="https://linux-sunxi.org/resources/assets/licenses/cc-by.png" alt="Creative Commons Attribution" width="88" height="31" loading="lazy"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://linux-sunxi.org/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</footer>



<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.069","walltime":"0.087","ppvisitednodes":{"value":199,"limit":1000000},"postexpandincludesize":{"value":143,"limit":2097152},"templateargumentsize":{"value":117,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":2929,"limit":5000000},"timingprofile":["100.00%    3.999      1 Template:Warn","100.00%    3.999      1 -total"]},"cachereport":{"timestamp":"20251029180737","ttl":86400,"transientcontent":false}}});});</script>
<!-- No web analytics configured. -->

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":326});});</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"016cbc9bb6a94e94934580b61e921a02","server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body></html>
