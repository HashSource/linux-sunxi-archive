
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>PocketBook Touch Lux 3 - linux-sunxi.org</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"d89a865251cf7af28e98395a","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"PocketBook_Touch_Lux_3","wgTitle":"PocketBook Touch Lux 3","wgCurRevisionId":23531,"wgRevisionId":23531,"wgArticleId":3707,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Devices","A13 Ereaders"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"PocketBook_Touch_Lux_3","wgRelevantArticleId":3707,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":
"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.page.gallery.styles":"ready","skins.vector.styles.legacy":"ready","mediawiki.toc.styles":"ready"};RLPAGEMODULES=["ext.RegularTooltips","site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=mediawiki.page.gallery.styles%7Cmediawiki.toc.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://linux-sunxi.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.8"/>
<link rel="shortcut icon" href="https://linux-sunxi.org/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://linux-sunxi.org/opensearch_desc.php" title="linux-sunxi.org (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://linux-sunxi.org/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="linux-sunxi.org Atom feed" href="https://linux-sunxi.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="PocketBook_Touch_Lux_3.html"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PocketBook_Touch_Lux_3 rootpage-PocketBook_Touch_Lux_3 skin-vector action-view skin-vector-legacy">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PocketBook Touch Lux 3</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From linux-sunxi.org</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><table class="infobox" cellspacing="5" style="width:22em;">
<tbody><tr><th colspan="2" class="" style="text-align:center; font-size:125%; font-weight:bold; background: #dedede;">PocketBook Touch Lux 3</th></tr>
<tr class=""><td colspan="2" class="" style="text-align:center;"><a href="https://linux-sunxi.org/File:PocketBookTouchLux3Front.jpg" class="image"><img alt="PocketBookTouchLux3Front.jpg" src="https://linux-sunxi.org/images/thumb/2/20/PocketBookTouchLux3Front.jpg/250px-PocketBookTouchLux3Front.jpg" decoding="async" width="250" height="167" srcset="https://linux-sunxi.org/images/thumb/2/20/PocketBookTouchLux3Front.jpg/375px-PocketBookTouchLux3Front.jpg 1.5x, https://linux-sunxi.org/images/thumb/2/20/PocketBookTouchLux3Front.jpg/500px-PocketBookTouchLux3Front.jpg 2x" /></a></td></tr>
<tr class="">
  <th scope="row" style="text-align:left;"> Manufacturer </th><td> <a rel="nofollow" class="external text" href="https://pocketbook-int.com/">PocketBook</a>
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Dimensions </th><td> 114.6mm x 174.4mm x 8.3mm
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Release Date </th><td> 2015?
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Website </th><td> <a rel="nofollow" class="external text" href="https://www.pocketbook-int.com/us/support/pocketbook-touch-lux-3">Device Product Page</a>
</td></tr><tr><th colspan="2" style="text-align:center;background:#dedede;"> Specifications
</th></tr><tr class="">
  <th scope="row" style="text-align:left;"> SoC </th><td> <a href="A13" title="A13">A13</a> @ 1Ghz
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> DRAM </th><td> 256MiB DDR3 @ 408MHz
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Power </th><td> USB 5V @ 0.5-1A, 1500mAh 3.7V Li-Ion battery
</td></tr><tr><th colspan="2" style="text-align:center;background:#dedede;"> Features
</th></tr><tr class="">
  <th scope="row" style="text-align:left;"> LCD </th><td> 1024x758 (6")
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Touchscreen </th><td> multi-finger capacitive (Cypress TMA445 / fw 0x0108)
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Video </th><td> proprietary eInk display / ED060XD4
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Audio </th><td> none
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Network </th><td> WiFi 802.11 b/g/n (<a href="Wifi.html#Realtek" title="Wifi">RTL8188EUS</a>) over USB
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Storage </th><td> 2x ÂµSD (one internal, one external), SPI NOR
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> USB </th><td> 1x internal USB2.0 Host, 1x USB2.0 OTG (external, peripheral mode only)
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Camera </th><td> none
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Other </th><td> AXP209, TP65185 PMICs, pcf8563 RTC
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Headers </th><td> UART
</td></tr>
</tbody></table>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Identification"><span class="tocnumber">1</span> <span class="toctext">Identification</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Sunxi_support"><span class="tocnumber">2</span> <span class="toctext">Sunxi support</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Current_status"><span class="tocnumber">2.1</span> <span class="toctext">Current status</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#TODO"><span class="tocnumber">2.1.1</span> <span class="toctext">TODO</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Images"><span class="tocnumber">2.2</span> <span class="toctext">Images</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#BSP"><span class="tocnumber">2.3</span> <span class="toctext">BSP</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Manual_build"><span class="tocnumber">2.4</span> <span class="toctext">Manual build</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#U-Boot"><span class="tocnumber">2.4.1</span> <span class="toctext">U-Boot</span></a>
<ul>
<li class="toclevel-4 tocsection-9"><a href="#Sunxi.2FLegacy_U-Boot"><span class="tocnumber">2.4.1.1</span> <span class="toctext">Sunxi/Legacy U-Boot</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="#Mainline_U-Boot"><span class="tocnumber">2.4.1.2</span> <span class="toctext">Mainline U-Boot</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-11"><a href="#Linux_Kernel"><span class="tocnumber">2.4.2</span> <span class="toctext">Linux Kernel</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#Mainline_kernel"><span class="tocnumber">2.4.2.1</span> <span class="toctext">Mainline kernel</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Tips.2C_Tricks.2C_Caveats"><span class="tocnumber">3</span> <span class="toctext">Tips, Tricks, Caveats</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#FEL_mode"><span class="tocnumber">3.1</span> <span class="toctext">FEL mode</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#List_of_HW"><span class="tocnumber">3.2</span> <span class="toctext">List of HW</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#ED060XD4_eInk_display"><span class="tocnumber">3.3</span> <span class="toctext">ED060XD4 eInk display</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Adding_a_serial_port_.28voids_warranty.29"><span class="tocnumber">4</span> <span class="toctext">Adding a serial port (<b>voids warranty</b>)</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Device_disassembly"><span class="tocnumber">4.1</span> <span class="toctext">Device disassembly</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Pictures"><span class="tocnumber">5</span> <span class="toctext">Pictures</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Also_known_as"><span class="tocnumber">6</span> <span class="toctext">Also known as</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Identification">Identification</span></h1>
<p>On the back of the device, the following is printed:
</p>
<pre>PocketBook Touch Lux 3</pre>
<p>The PCB has the following silkscreened on it:
</p>
<pre>IDIG E028 PB626 V1.6
20141229</pre>
<p>PocketBook manufactured on 20/08/2018 has this silkscreened on the PCB
</p>
<pre>XRZ_E028 PB626-V2.1
20170406</pre>
<p>Most notable change is usage of 8GB eMMC storage on the new board and Elan touch screen.
</p>
<h1><span class="mw-headline" id="Sunxi_support">Sunxi support</span></h1>
<h2><span class="mw-headline" id="Current_status">Current status</span></h2>
<ul><li>Full mainline/linux/u-boot support for all HW (with some extra out-of-tree patches), including a kernel driver for controlling the eInk display via DEBE/TCON0 with an ability to precisely time the ink manipulation down to multiples of 50ns. The driver can achieve full speed (85Hz) communication with the display. Interface is via writing a framebuffer to a special character device /dev/eink-panel.</li></ul>
<h3><span class="mw-headline" id="TODO">TODO</span></h3>
<ul><li>The display driver is now mature enough to allow for easy experimentation with the display.</li>
<li>Instead of pushing all the complexity of parsing waveform data and figuring out what to do to move the ink from a current position to a new one to kernel space, the driver provides the base interface for writing a precisely timed frame to the display. Waveform parsing, temperature adjustment of timings, and choosing an algorithm to update different regions of the display is left to the userspace, where it can be much more easily experimented with and used to provide the best experience based on what content is displayed in what regions of the screen.</li>
<li>Waveforms for the display are stored on the SPI NOR flash, analyze the format to see how the timings are specified.
<ul><li>Waveforms can be read using <a class="external free" href="https://github.com/fread-ink/inkwave">https://github.com/fread-ink/inkwave</a>, precise meaning of data stored therein is still unclear, though</li></ul></li>
<li>Re-check USB0, if perhaps it can support at least a forced host mode. (would need a VBUS switch)</li>
<li>Reduce data copying by using memory mapped buffers. (this can save ~ 800us)</li>
<li>Allow to interleave submission of a next buffer and processing of the current one (submission takes ~8ms with all the scheduling, copying and conversion of FB data to display control stream). This would allow for going from 50Hz update rate to ~100Hz</li>
<li>Write a tool to manage transitions between different display states using NEON intrinsics.</li></ul>
<h2><span class="mw-headline" id="Images">Images</span></h2>
<p>Pre-built kernel/u-boot available at <a rel="nofollow" class="external free" href="https://xff.cz/kernels">https://xff.cz/kernels</a>
</p>
<h2><span class="mw-headline" id="BSP">BSP</span></h2>
<ul><li><a class="external free" href="https://github.com/pocketbook/Platform_A13">https://github.com/pocketbook/Platform_A13</a> (does not contain code for all drivers, code for cyttsp4.ko, epdc.ko is missing)</li></ul>
<h2><span class="mw-headline" id="Manual_build">Manual build</span></h2>
<p>You can build things for yourself by following our <a href="Manual_build_howto.html" title="Manual build howto"> Manual build howto</a> and by choosing from the configurations available below.
</p>
<h3><span class="mw-headline" id="U-Boot">U-Boot</span></h3>
<h4><span id="Sunxi/Legacy_U-Boot"></span><span class="mw-headline" id="Sunxi.2FLegacy_U-Boot">Sunxi/Legacy U-Boot</span></h4>
<p>No u-boot code is available from the manufacturer.
</p>
<h4><span class="mw-headline" id="Mainline_U-Boot">Mainline U-Boot</span></h4>
<p>Not yet upstreamed, but patches are available here for now:
</p>
<ul><li><a rel="nofollow" class="external free" href="https://xff.cz/git/u-boot/log/?h=opi-v2019.10">https://xff.cz/git/u-boot/log/?h=opi-v2019.10</a></li></ul>
<p>Use the <i>pocketbook_touch_lux_3_defconfig</i> build target.
</p>
<h3><span class="mw-headline" id="Linux_Kernel">Linux Kernel</span></h3>
<h4><span class="mw-headline" id="Mainline_kernel">Mainline kernel</span></h4>
<p>The board support is mostly upstreamed, except for touchscreen patches and the display support. Non-upstreamed changes are in this branch:
</p>
<ul><li><a rel="nofollow" class="external free" href="https://xff.cz/git/linux/log/?h=pb-5.9">https://xff.cz/git/linux/log/?h=pb-5.9</a></li></ul>
<p>Use the <i>sun5i-a13-pocketbook-touch-lux-3.dtb</i> device-tree binary and <i>pocketbook_touch_lux_3_defconfig</i> config.
</p>
<h1><span id="Tips,_Tricks,_Caveats"></span><span class="mw-headline" id="Tips.2C_Tricks.2C_Caveats">Tips, Tricks, Caveats</span></h1>
<ul><li>You can buy any variant of ED060XD4 display for Touch Lux 3, replacement requires some care not to break anything. The display is glued to the plastic frame with an double-sided adhesive tape. It's possible to separate the display from the frame by sticking some flat sharp plastic tool between the display and the frame from the front side. I used an old credit card. The trick is to try to  swipe the card along all edges of the display, while laying it mostly flat on the display. You can replace the display without glueing the new one in.</li>
<li>There are three variants of the display available: just the eInk display (matte or gloss) (~$13-15), eInk+backlight (~$25), eInk+backlight+touch digitizer (~$50-65). Some manufacturers claim on Aliexpress that they provide the panels for PocketBook and that their displays are matte and have even backlight. I can confirm that. I also confirmed that using the cheapest $13 replacement display without backlight also works. (original firmware has trouble booting when touch panel digitizer is not detected, so using a cheap display is adviseable if you don't want to use the original firmware)</li>
<li>After installing the new display, touchscreen may be acting weirdly. That may not mean it's broken, it may just need calibration. Calibration is performed by writing a bunch of values to bunch of registers. Nothing special. There's a confusingly named S06-xc4_calibrate.sh script in the original firmware's boot partition that can be used to do calibration with the original kernel. I plan to add support for calibration to the mainline driver.</li>
<li>I doubt it's possible to replace backlight cable without breaking the connector. The connector is extremely fragile. I used thermal glue pistol to fix the new cable in place but it's still easy to cause shorts and shutdown the regulator, just by pressing device buttons or by pressing on the back cover. Thankfully the PMIC is resilient and will only shut down the backlight regulator if it detects the short-circuit. Regulator can be restarted by disabling/enabling the backlight in sysfs.</li></ul>
<h2><span class="mw-headline" id="FEL_mode">FEL mode</span></h2>
<p>The <b>Menu</b> button on the right side triggers <a href="FEL" title="FEL"> FEL mode</a>.
</p>
<h2><span class="mw-headline" id="List_of_HW">List of HW</span></h2>
<p>Reverse enginnered:
</p>
<pre>SoC: A13 rev b

DRAM: 256MiB (Samsung k4b2g1646q-bck0)

Internal uSD card slot (4-bit) (MMC2)
  - works out of the box

External uSD card slot (4-bit) (MMC0)
  - PE4 needs to be driven low to enable it
  - PG0 is connected to CD
  - can't boot

ED060XD4 display with touch panel and backlight
  + MX25U4033 512kB flash on the dispaly FFC (SPI)
  + Cypress TMA445 FW 0x0108 touch controller
  + TP65185 eInk voltage regulator

Serial debug port at PG3/PG4 3.3V (UART1)

I2C devices:

  I2C-0 (PB0/PB1)
    AXP209 @0x34 (CHIP ID: 0x41)
      LDO1 1.3V (1.3V)
      LDO2 3V  (1.8-3.3V)
      LDO3 3.3V (0.7-3.5V)   - powers wifi chip (needs slew rate control on enable)
      LDO4 3.3V (1.2-3.3V)
      BUCK2 1.4V  (0.7-2.275V)
      BUCK3 1.2V  (0.7-3.5V)
      LDOIO0 1.8V (1.8V)

      - POK key input

  I2C-1 (PB15/PB16)
    - RTC / pcf8563 @0x51
    - TP65185 @0x68
      - NCP18XH103F03RB NTC thermistor connected on the FFC

  I2C-2 (PB17/PB18)
    - Cypress TMA445 @0x24
      - Power 1.8V
        - Enabled by PC15=1 and PC13=1

SPI devices:

  SPI-2 (PE0-PE3)
    - MX25U4033
      - Power 1.8V
        - enabled by PC15=1 and PC14=1
      - PE1 kills usb bus?

Backlight via PWM:
  - enable at PB4
  - pwm at PB2

GPIO buttons:
  - at PG9 and PG10

Power LED:
  - at PE8

USB:
  - host controller connected to the USB wifi chip

WiFi:
  - RTL8188EUS 802.11n Wireless Network Adapter
  - 0x0bda:0x8179
  - CHIP_8188E_Normal_Chip_TSMC_UNKNOWN_CUT(10)_1T1R_RomVer(0)
  - EEPROM ID=0x8129

USB OTG:
  - only peripheral mode, as ID detection pin is not routed to SoC
    - id-det from fex should be at PG2, but does not react to plug-in
  - vbus is not controllable
    - detection should be at PG1 (not tested)
    - vbus enable shoudld be at PG12 (not working)
</pre>
<p>Also see DTS file, wich contains more details.
</p>
<h2><span class="mw-headline" id="ED060XD4_eInk_display">ED060XD4 eInk display</span></h2>
<p>This display is sold in 3 variants on the internet. Just eInk display panel, + backlight, + backlight and touch.
</p><p>Current status of reverse engineering:
</p>
<pre>FFP pinout: (reverse engieneered)
---------------------------------
It turns out that ED060XD4 has the same interface as ED060XC5 or ED060XC3 (Touch Lux 2).

The datasheet for ED060XC5 is available on the internet. It looks like ED060XG1 has also
the same interface and its datasheet contains extra timing/interface
information, that can be useful.

FFP pin | SoC   | Meaning              | Open questions?
--------|-------|----------------------|---------------------
1       |       | 22V                  |
2       |       | 15V                  |
3       |       | GND                  |
4       |       | BORDER               | Thin wire to the panel (border voltage)
5       |       | Flash VCC 1.8V       | PC14 and PC15 are set (thicker wire)
6       | D23   | GA START PULSE - SPV | somehow special (set to 1 when not transmitting)
7       | D22   | GA CLK - CKV         |
8       | D15   | MODE 1               |
9       |       | GND                  |
10      | PE3   | Flash SO             |
-------------------------------------------------------------
11      | PE0   | Flash CS#            |
12      | PE2   | Flash SI             |
13      | PE1   | Flash SCLK           | shuts down USB when used
14      |       | -3V (VCOM)           | thicker wire
15      | D12   | D7                   |
16      | D11   | D6                   |
17      | D10   | D5                   |
18      | D7    | D4                   |
19      | D6    | D3                   |
20      | D5    | D2                   |
-------------------------------------------------------------
21      | D4    | D1                   |
22      | D3    | D0                   |
23      | D21   | SD START PULSE - SPH | somehow special (set to 1 when not transmitting)
24      | D20   | SD OE                |
25      | D13   | SD LE                |
26      |       | GND                  |
27      | D24   | SD CLK - CKH         |
28      |       | GND                  |
29      |       | 3.2V (VDD)           |
30      |       | NTC_1                | NCP18XH103F03RB NTC thermistor connected between 30 and 31
-------------------------------------------------------------
31      |       | NTC_2                | see 30 above
32      |       | GND                  |
33      |       | -20V                 |
34      |       | -15V                 |


Timing of the signals produced by the vendor's edpc.ko driver was analyzed with
a logical probe.

Cable contains MX25U4033 serial 1.8V flash
------------------------------------------

4Mbit / 500kB  (possibly for wave data)

pinout:

CS#   1 \/ 8  VCC
SO    2    7  HOLD#
WP#   3    6  SCLK
GND   4    5  SI

#HOLD tied to GND
#WP tied to VCC

Driving the display
-------------------

Display power up needs to be sequenced:

- VDD rail (V3P3 switch must be enabled over I2C)
- 4 "High" voltage rails (default sequencing in the PMIC is good enough)
- VCOM

At the begining both SPV and SPH are high, the rest is low.

Frame signals timing:

- MODE1 high for the duration of the frame (no CKV clk is sent without MODE1 being high)
- 5 CKV pulses after mode high
  - SPV goes low during the high state of the 2nd CKV pulse
  - SPV goes high during the high state of the 3nd CKV pulse
- during the high state of 6th CKV pulse, row data start being shifted in:

(a)
  - CKV goes high
  - SPH goes low
  - row data shifted in (CKV goes low in 3/4 of the data shift)
  - SPH goes high and OE goes low
  - ~2us
  - LE goes high
  - OE goes high
  - LE goes low
  - CKV goes high
  - go to (a) for a next row or (b) at the end of a frame

(b) 
  - end of frame
  - wait for the duration of row data cycle (last row needs to be applied)
    - CKV goes low (3/4 to the end)
  - OE goes low
  - MODE1 goes low

Frame frequency can be up to 85Hz.

</pre>
<p>Frame start timings (from a logic probe):
</p><p><a href="https://linux-sunxi.org/File:ED060XD4-frame-start.png" class="image"><img alt="ED060XD4-frame-start.png" src="https://linux-sunxi.org/images/5/55/ED060XD4-frame-start.png" decoding="async" width="730" height="416" /></a>
</p><p>Frame end timings:
</p><p><a href="https://linux-sunxi.org/File:ED060XD4-frame-end.png" class="image"><img alt="ED060XD4-frame-end.png" src="https://linux-sunxi.org/images/2/2a/ED060XD4-frame-end.png" decoding="async" width="755" height="400" /></a>
</p><p>CKH is missing, but it's just a boring 20MHz square clock signal.
</p>
<h1><span id="Adding_a_serial_port_(voids_warranty)"></span><span class="mw-headline" id="Adding_a_serial_port_.28voids_warranty.29">Adding a serial port (<b>voids warranty</b>)</span></h1>
<ul><li>UART has nice big pads on the side of the board, easy to solder some wires to</li>
<li>pads are clearly marked</li>
<li>3.3V</li></ul>
<h2><span class="mw-headline" id="Device_disassembly">Device disassembly</span></h2>
<p>Front panel contains hooks that unlock when sticking sharp tool in between it and the back panel. Avoid bottom side of the device when opening, as it contains vulnerable cables and electronics.
The back panel pops out almost too easily.
</p>
<h1><span class="mw-headline" id="Pictures">Pictures</span></h1>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:35px auto;"><a href="https://linux-sunxi.org/File:PocketBookTouchLux3Front.jpg" class="image"><img alt="PocketBookTouchLux3Front.jpg" src="https://linux-sunxi.org/images/thumb/2/20/PocketBookTouchLux3Front.jpg/120px-PocketBookTouchLux3Front.jpg" decoding="async" width="120" height="80" srcset="https://linux-sunxi.org/images/thumb/2/20/PocketBookTouchLux3Front.jpg/180px-PocketBookTouchLux3Front.jpg 1.5x, https://linux-sunxi.org/images/thumb/2/20/PocketBookTouchLux3Front.jpg/240px-PocketBookTouchLux3Front.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="https://linux-sunxi.org/File:Device_back.jpg" class="image"><img alt="Device back.jpg" src="https://linux-sunxi.org/images/thumb/e/ee/Device_back.jpg/120px-Device_back.jpg" decoding="async" width="120" height="90" srcset="https://linux-sunxi.org/images/thumb/e/ee/Device_back.jpg/180px-Device_back.jpg 1.5x, https://linux-sunxi.org/images/e/ee/Device_back.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="https://linux-sunxi.org/File:Device_buttons_1.jpg" class="image"><img alt="Device buttons 1.jpg" src="https://linux-sunxi.org/images/thumb/9/9e/Device_buttons_1.jpg/120px-Device_buttons_1.jpg" decoding="async" width="120" height="90" srcset="https://linux-sunxi.org/images/thumb/9/9e/Device_buttons_1.jpg/180px-Device_buttons_1.jpg 1.5x, https://linux-sunxi.org/images/9/9e/Device_buttons_1.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="https://linux-sunxi.org/File:Device_buttons_2.jpg" class="image"><img alt="Device buttons 2.jpg" src="https://linux-sunxi.org/images/thumb/3/39/Device_buttons_2.jpg/120px-Device_buttons_2.jpg" decoding="async" width="120" height="90" srcset="https://linux-sunxi.org/images/thumb/3/39/Device_buttons_2.jpg/180px-Device_buttons_2.jpg 1.5x, https://linux-sunxi.org/images/3/39/Device_buttons_2.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="https://linux-sunxi.org/File:PBTL3-board.jpeg" class="image"><img alt="PBTL3-board.jpeg" src="https://linux-sunxi.org/images/thumb/b/b4/PBTL3-board.jpeg/120px-PBTL3-board.jpeg" decoding="async" width="120" height="68" srcset="https://linux-sunxi.org/images/thumb/b/b4/PBTL3-board.jpeg/180px-PBTL3-board.jpeg 1.5x, https://linux-sunxi.org/images/thumb/b/b4/PBTL3-board.jpeg/240px-PBTL3-board.jpeg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="https://linux-sunxi.org/File:PBTL3-board-v2.jpg" class="image"><img alt="PBTL3-board-v2.jpg" src="https://linux-sunxi.org/images/thumb/f/f9/PBTL3-board-v2.jpg/120px-PBTL3-board-v2.jpg" decoding="async" width="120" height="90" srcset="https://linux-sunxi.org/images/thumb/f/f9/PBTL3-board-v2.jpg/180px-PBTL3-board-v2.jpg 1.5x, https://linux-sunxi.org/images/thumb/f/f9/PBTL3-board-v2.jpg/240px-PBTL3-board-v2.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="https://linux-sunxi.org/File:Device_board_back.jpg" class="image"><img alt="Device board back.jpg" src="https://linux-sunxi.org/images/thumb/a/a8/Device_board_back.jpg/120px-Device_board_back.jpg" decoding="async" width="120" height="90" srcset="https://linux-sunxi.org/images/thumb/a/a8/Device_board_back.jpg/180px-Device_board_back.jpg 1.5x, https://linux-sunxi.org/images/a/a8/Device_board_back.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<h1><span class="mw-headline" id="Also_known_as">Also known as</span></h1>
<ul><li>PocketBook 626(2)</li></ul>
<h1><span class="mw-headline" id="See_also">See also</span></h1>
<p><span style="color:#ba0000">Add some nice to have links here. This includes related devices, and external links.</span>
</p>
<!-- 
NewPP limit report
Cached time: 20251029181258
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.194 seconds
Real time usage: 0.244 seconds
Preprocessor visited node count: 408/1000000
Postâexpand include size: 7022/2097152 bytes
Template argument size: 2113/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postâexpand size: 9571/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   92.192      1 -total
 17.15%   15.807      1 Template:Infobox_Board
  7.46%    6.878     20 Template:Infobox/entry
  6.20%    5.713      1 Template:Remove
  2.88%    2.658      1 Template:Red
  2.32%    2.138      2 Template:Infobox/header
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3707-0!canonical and timestamp 20251029181258 and revision id 23531
 -->
</div></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://linux-sunxi.org/index.php?title=PocketBook_Touch_Lux_3&amp;oldid=23531">https://linux-sunxi.org/index.php?title=PocketBook_Touch_Lux_3&amp;oldid=23531</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://linux-sunxi.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://linux-sunxi.org/Category:Devices" title="Category:Devices">Devices</a></li><li><a href="https://linux-sunxi.org/Category:A13_Ereaders" title="Category:A13 Ereaders">A13 Ereaders</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-personal" class="vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label">
		<span>Personal tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="pt-createaccount"><a href="https://linux-sunxi.org/index.php?title=Special:CreateAccount&amp;returnto=PocketBook+Touch+Lux+3" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://linux-sunxi.org/index.php?title=Special:UserLogin&amp;returnto=PocketBook+Touch+Lux+3" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li></ul>
		
	</div>
</nav>


		<div id="left-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-namespaces" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label">
		<span>Namespaces</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected"><a href="PocketBook_Touch_Lux_3.html" title="View the content page [c]" accesskey="c">Page</a></li><li id="ca-talk" class="new"><a href="https://linux-sunxi.org/index.php?title=Talk:PocketBook_Touch_Lux_3&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-variants" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>Variants</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


		</div>
		<div id="right-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-views" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label">
		<span>Views</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-view" class="collapsible selected"><a href="PocketBook_Touch_Lux_3.html">Read</a></li><li id="ca-viewsource" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=PocketBook_Touch_Lux_3&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=PocketBook_Touch_Lux_3&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-cactions" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-cactions-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>More</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


			<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">Search</label>
	</h3>
	<form action="https://linux-sunxi.org/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="Search linux-sunxi.org" title="Search linux-sunxi.org [f]" accesskey="f" id="searchInput"/>
			<input type="hidden" name="title" value="Special:Search">
			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a  title="Visit the main page" class="mw-wiki-logo" href="Main_Page.html"></a>
	</div>
	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-navigation" class="vector-menu vector-menu-portal portal portal-first" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<h3 id="p-navigation-label">
		<span>Navigation</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-portal"><a href="sunxi:Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="https://linux-sunxi.org/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="https://linux-sunxi.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="The place to find out">Help</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-tb" class="vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label">
		<span>Tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere"><a href="https://linux-sunxi.org/Special:WhatLinksHere/PocketBook_Touch_Lux_3" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://linux-sunxi.org/Special:RecentChangesLinked/PocketBook_Touch_Lux_3" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://linux-sunxi.org/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://linux-sunxi.org/index.php?title=PocketBook_Touch_Lux_3&amp;oldid=23531" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://linux-sunxi.org/index.php?title=PocketBook_Touch_Lux_3&amp;action=info" title="More information about this page">Page information</a></li></ul>
		
	</div>
</nav>


	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
		<li id="footer-info-lastmod"> This page was last edited on 10 September 2020, at 17:53.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a> unless otherwise noted.</li>
	</ul>
	<ul id="footer-places" >
		<li id="footer-places-privacy"><a href="https://linux-sunxi.org/sunxi:Privacy_policy" title="sunxi:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="https://linux-sunxi.org/sunxi:About" title="sunxi:About">About linux-sunxi.org</a></li>
		<li id="footer-places-disclaimer"><a href="https://linux-sunxi.org/sunxi:General_disclaimer" title="sunxi:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="https://linux-sunxi.org/resources/assets/licenses/cc-by.png" alt="Creative Commons Attribution" width="88" height="31" loading="lazy"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://linux-sunxi.org/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</footer>



<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.194","walltime":"0.244","ppvisitednodes":{"value":408,"limit":1000000},"postexpandincludesize":{"value":7022,"limit":2097152},"templateargumentsize":{"value":2113,"limit":2097152},"expansiondepth":{"value":6,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":9571,"limit":5000000},"timingprofile":["100.00%   92.192      1 -total"," 17.15%   15.807      1 Template:Infobox_Board","  7.46%    6.878     20 Template:Infobox/entry","  6.20%    5.713      1 Template:Remove","  2.88%    2.658      1 Template:Red","  2.32%    2.138      2 Template:Infobox/header"]},"cachereport":{"timestamp":"20251029181258","ttl":86400,"transientcontent":false}}});});</script>
<!-- No web analytics configured. -->

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1381});});</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"016cbc9bb6a94e94934580b61e921a02","server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body></html>
