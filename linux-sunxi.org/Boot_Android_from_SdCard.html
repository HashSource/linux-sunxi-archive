
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Boot Android from SdCard - linux-sunxi.org</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"a58ceb996c869de3a4103777","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Boot_Android_from_SdCard","wgTitle":"Boot Android from SdCard","wgCurRevisionId":20754,"wgRevisionId":20754,"wgArticleId":548,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tutorial","Android"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Boot_Android_from_SdCard","wgRelevantArticleId":548,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":
"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.vector.styles.legacy":"ready","mediawiki.toc.styles":"ready"};RLPAGEMODULES=["ext.RegularTooltips","site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=mediawiki.toc.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://linux-sunxi.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.8"/>
<link rel="shortcut icon" href="https://linux-sunxi.org/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://linux-sunxi.org/opensearch_desc.php" title="linux-sunxi.org (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://linux-sunxi.org/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="linux-sunxi.org Atom feed" href="https://linux-sunxi.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="Boot_Android_from_SdCard.html"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Boot_Android_from_SdCard rootpage-Boot_Android_from_SdCard skin-vector action-view skin-vector-legacy">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Boot Android from SdCard</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From linux-sunxi.org</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#How_to_create_bootable_Android_SdCard"><span class="tocnumber">1</span> <span class="toctext">How to create bootable Android SdCard</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Extract_file_from_Android_Image"><span class="tocnumber">1.1</span> <span class="toctext">Extract file from Android Image</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Extract_Kernel_and_Ramdisk"><span class="tocnumber">1.1.1</span> <span class="toctext">Extract Kernel and Ramdisk</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Extract_system_image:"><span class="tocnumber">1.1.2</span> <span class="toctext">Extract system image:</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Extract_recovery_image:"><span class="tocnumber">1.1.3</span> <span class="toctext">Extract recovery image:</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Decompress_the_ramdisk_data:"><span class="tocnumber">1.1.4</span> <span class="toctext">Decompress the ramdisk data:</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#SD_card_Partition"><span class="tocnumber">1.2</span> <span class="toctext">SD card Partition</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Format"><span class="tocnumber">1.2.1</span> <span class="toctext">Format</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#BootLoader"><span class="tocnumber">1.3</span> <span class="toctext">BootLoader</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Copy_to_SD_card"><span class="tocnumber">1.4</span> <span class="toctext">Copy to SD card</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Automated_Flash_Kitchen"><span class="tocnumber">2</span> <span class="toctext">Automated Flash Kitchen</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Requirements"><span class="tocnumber">2.1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Enhancements"><span class="tocnumber">2.2</span> <span class="toctext">Enhancements</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#General_information"><span class="tocnumber">2.3</span> <span class="toctext">General information</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Pre-built_A10_SDcard_images"><span class="tocnumber">3</span> <span class="toctext">Pre-built A10 SDcard images</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="How_to_create_bootable_Android_SdCard">How to create bootable Android SdCard</span></h2>
<p>First extract needed files from an android image , You will need awutils and android tools.
</p>
<pre>  $ wget <a class="external free" href="http://dl.linux-sunxi.org/users/arete74/tools.tar.gz">http://dl.linux-sunxi.org/users/arete74/tools.tar.gz</a>
  $ tar -zxvf tools.tar.gz
</pre>
<p><a href="Awutils.html" title="Awutils">AWUtils</a>
</p>
<pre>  $ git clone <a class="external free" href="https://github.com/Ithamar/awutils.git">https://github.com/Ithamar/awutils.git</a>
  $ cd awutils
  $ make
</pre>
<h3><span class="mw-headline" id="Extract_file_from_Android_Image">Extract file from Android Image</span></h3>
<p>Resources for Cubieboard A10:
</p>
<ul><li><a rel="nofollow" class="external free" href="http://docs.cubieboard.org/tutorials/cb1/installation/cubieboard_android-4.0.x_release">http://docs.cubieboard.org/tutorials/cb1/installation/cubieboard_android-4.0.x_release</a></li>
<li><a rel="nofollow" class="external free" href="http://dl.cubieboard.org/model/cubieboard1/Image/android/">http://dl.cubieboard.org/model/cubieboard1/Image/android/</a></li></ul>
<p>In this guide the name of the Android Image is android.img
</p>
<pre>  $ awimage -u android.img
</pre>
<p>This command creates a folder called android.dump which will contain many files.
The three following files are the ones we are interested in:
</p><p><b>RFSFAT16_BOOT_00000000000</b> (the boot partition) 
</p><p><b>RFSFAT16_RECOVERY_0000000</b> (the recovery partition)
</p><p><b>RFSFAT16_SYSTEM_000000000</b> (the system partition, ext4 sparse)
</p><p><b>RFSFAT16_BOOTLOADER_00000</b> (the bootloader partition)
</p><p>For simplicity rename:
</p>
<pre>cp android.img.dump/RFSFAT16_BOOT_00000000000 ../boot.img
cp android.img.dump/RFSFAT16_RECOVERY_0000000 ../recovery.img
cp android.img.dump/RFSFAT16_SYSTEM_000000000 ../system.img
cp android.img.dump/RFSFAT16_BOOTLOADER_00000 ../bootloader.img
cd ..
</pre>
<h4><span class="mw-headline" id="Extract_Kernel_and_Ramdisk">Extract Kernel and Ramdisk</span></h4>
<p>Extract the kernel and boot RAM disk as follows:
</p>
<pre>  $ ./tools/split_bootimg.pl boot.img
  Page size: 2048 (0x00000800)
  Kernel size: 4215036 (0x004050fc)
  Ramdisk size: 974998 (0x000ee096)
  Second size: 0 (0x00000000)
  Board name:
  Command line: console=ttyS0,115200 rw init=/init loglevel=5
  Writing boot.img-kernel ... complete.
  Writing boot.img-ramdisk.gz ... complete.
</pre>
<p>Decompress the ramdisk data:
</p>
<pre>  $ mkdir boot
  $ cd boot 
  $ gunzip -c ../boot.img-ramdisk.gz | cpio -i
  $ tar -cpvf ../boot.tar *
  $ cd ..
</pre>
<p>Convert <b>kernel</b> to <b>uImage</b>:
</p>
<pre>  $ mkimage -A arm -O linux -T kernel -C none -a 0x40008000 -e 0x40008000 -n "Linux 2.6" -d boot.img-kernel uImage
</pre>
<h4><span class="mw-headline" id="Extract_system_image:">Extract system image:</span></h4>
<pre>  $ ./tools/simg2img system.img system1.img
  $ mkdir system
  $ mount -o loop system1.img system
  $ cd system
  $ tar -cpvf ../system.tar *
  $ cd ..
  $ umount system
</pre>
<h4><span class="mw-headline" id="Extract_recovery_image:">Extract recovery image:</span></h4>
<pre>   $ ./tools/split_bootimg.pl recovery.img
  Page size: 2048 (0x00000800)
  Kernel size: 4215036 (0x004050fc)
  Ramdisk size: 974998 (0x000ee096)
  Second size: 0 (0x00000000)
  Board name:
  Command line: console=ttyS0,115200 rw init=/init loglevel=5
  Writing recovery.img-kernel ... complete.
  Writing recovery.img-ramdisk.gz ... complete.
</pre>
<h4><span class="mw-headline" id="Decompress_the_ramdisk_data:">Decompress the ramdisk data:</span></h4>
<pre>  $ mkdir recovery
  $ cd recovery
  $ gunzip -c ../recovery.img-ramdisk.gz | cpio -i
  $ tar -cpvf ../recovery.tar *
  $ cd ..
</pre>
<h3><span class="mw-headline" id="SD_card_Partition">SD card Partition</span></h3>
<p>Partitions description:
</p><p>WARNING: At the start we need a 17 MB unallocated partition, required for flash sunxi-spl and u-boot.bin without corrupting the SD.
</p>
<table class="wikitable">
<tbody><tr>
<th>partition
</th>
<th>Size
</th>
<th>Name
</th>
<th>Fs
</th>
<th>Description
</th></tr>
<tr>
<td>/dev/sdc1
</td>
<td>16MiB
</td>
<td>bootloader
</td>
<td>VFAT
</td>
<td>Files to assist the bootloader.
</td></tr>
<tr>
<td>/dev/sdc2
</td>
<td>36MiB
</td>
<td>boot
</td>
<td>EXT4
</td>
<td>ramdisk
</td></tr>
<tr>
<td>/dev/sdc3
</td>
<td>500 MiB
</td>
<td>system
</td>
<td>EXT4
</td>
<td>Android's /system partition
</td></tr>
<tr>
<td>/dev/sdc4
</td>
<td>Fill all space
</td>
<td>extend
</td>
<td>Extend Partition
</td></tr>
<tr>
<td>/dev/sdc5
</td>
<td>300MiB
</td>
<td>data
</td>
<td>EXT4
</td>
<td>
</td></tr>
<tr>
<td>/dev/sdc6
</td>
<td>16 MiB
</td>
<td>misc
</td>
<td>EXT4
</td>
<td>
</td></tr>
<tr>
<td>/dev/sdc7
</td>
<td>36 Mib
</td>
<td>recovery
</td>
<td>EXT4
</td>
<td>Android's recovery partition
</td></tr>
<tr>
<td>/dev/sdc8
</td>
<td>125 MiB
</td>
<td>cache
</td>
<td>EXT4
</td>
<td>
</td></tr>
<tr>
<td>/dev/sdc9
</td>
<td>16 MiB
</td>
<td>private
</td>
<td>EXT4
</td>
<td>
</td></tr>
<tr>
<td>/dev/sdc10
</td>
<td>1-2 GiB
</td>
<td>UDISK
</td>
<td>VFAT
</td>
<td>
</td></tr>
</tbody></table>
<p><br />
Now, identify the device of the card and export it as <tt>$card</tt>:
</p>
<pre>card=/dev/XXX (XXX should be replaced with the name of your device, eg. sdc or mmcblk0)
</pre>
<p>Since /dev/mmcblk0 partitions are named like mmcblk0p1, let's define a prefix:
</p>
<pre>cardp=/dev/sdX
</pre>
<p>or:
</p>
<pre>cardp=/dev/mmcblkXp
</pre>
<pre>dd if=/dev/zero of=$card bs=1M count=1
blockdev --rereadpt $card
</pre>
<p>When using sfdisk from an util-linux &lt; 2.26:
</p>
<pre>cat &lt;&lt;EOT | sfdisk --in-order -uM $card
17,16,c
,36,83
,500,83
,,5
,300,83
,16,83
,36,83
,125,83
,16,83
,,83
EOT
</pre>
<p>Since util-linux 2.26 sfdisk has changed much, use:
</p>
<pre>cat &lt;&lt;EOT | sfdisk $card
start=17MiB,size=16MiB,type=c
start=33MiB,size=36MiB,type=83
start=69MiB,size=500MiB,type=83
start=596MiB,type=5
size=300MiB,type=83
size=16MiB,type=83
size=36MiB,type=83
size=125MiB,type=83
size=16MiB,type=83
type=83
EOT
</pre>
<h4><span class="mw-headline" id="Format">Format</span></h4>
<pre>mkfs.vfat -n bootloader ${cardp}1
mkfs.ext4 -L boot       ${cardp}2
mkfs.ext4 -L system     ${cardp}3
mkfs.ext4 -L data       ${cardp}5
mkfs.ext4 -L misc       ${cardp}6
mkfs.ext4 -L recovery   ${cardp}7
mkfs.ext4 -L cache      ${cardp}8
mkfs.ext4 -L private    ${cardp}9
mkfs.vfat -n UDISK      ${cardp}10
</pre>
<p>remove huge_file option from EXT4 fs (android kernel not have this option!!!)
</p>
<pre>tune2fs -O ^huge_file ${cardp}2
tune2fs -O ^huge_file ${cardp}3
tune2fs -O ^huge_file ${cardp}5
tune2fs -O ^huge_file ${cardp}6
tune2fs -O ^huge_file ${cardp}7
tune2fs -O ^huge_file ${cardp}8
tune2fs -O ^huge_file ${cardp}9
</pre>
<h3><span class="mw-headline" id="BootLoader">BootLoader</span></h3>
<p>For SD card booting you can try one of these pair of files from <a href="Miniand_Hackberry.html" title="Miniand Hackberry">Hackberry</a>:
</p>
<ul><li><b>1GB:</b> <a rel="nofollow" class="external text" href="http://dl.miniand.com/jas-hacks/uboot/1gb/sunxi-spl.bin">sunxi-spl.bin</a> <a rel="nofollow" class="external text" href="http://dl.miniand.com/jas-hacks/uboot/1gb/u-boot.bin">u-boot.bin</a></li>
<li><b>512MB:</b> <a rel="nofollow" class="external text" href="http://dl.miniand.com/jas-hacks/uboot/512mb/sunxi-spl.bin">sunxi-spl.bin</a> <a rel="nofollow" class="external text" href="http://dl.miniand.com/jas-hacks/uboot/512mb/u-boot.bin">u-boot.bin</a></li></ul>
<pre>dd if=spl/sunxi-spl.bin of=$card bs=1024 seek=8
dd if=u-boot.bin of=$card bs=1024 seek=32
</pre>
<p><b>Note:</b> The above will not work for the Cubieboard A10, you can try the images below or compile u-boot your self.
</p><p><big><b>For Cubieboard A10:</b></big>
</p><p>If you are in a pinch, you can try the files below, but it is recommended if you can that you compile them your self:
</p>
<ul><li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/u-boot.img">u-boot.img</a></li>
<li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/sunxi-spl.bin">sunxi-spl.bin</a></li>
<li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/u-boot-sunxi-with-spl.bin">u-boot-sunxi-with-spl.bin</a></li></ul>
<pre>git clone <a class="external free" href="https://github.com/linux-sunxi/u-boot-sunxi.git">https://github.com/linux-sunxi/u-boot-sunxi.git</a>
make cubieboard_config
make
</pre>
<p><b>Note:</b> It is recommended for best results that you compile it if you can on the device you plan to use it on.
</p><p>For cross compilation:
</p>
<pre>git clone <a class="external free" href="https://github.com/linux-sunxi/u-boot-sunxi.git">https://github.com/linux-sunxi/u-boot-sunxi.git</a>
make cubieboard_config CROSS_COMPILE=arm-linux-gnueabihf-
</pre>
<p>Next, install your new u-boot on your sdcard:
</p>
<pre>dd if=u-boot-sunxi-with-spl.bin of=/dev/sdX bs=1024 seek=8
</pre>
<p>or if you prefer to install the components separately:
</p>
<pre>dd if=spl/sunxi-spl.bin of=/dev/sdX bs=1024 seek=8
dd if=u-boot.img of=/dev/sdX bs=1024 seek=40
</pre>
<p>If you have issues at boot time you will find that setting up debug serial console will help a lot to find your issue.
</p><p><b>Reference:</b> <a class="external free" href="https://github.com/linux-sunxi/u-boot-sunxi/wiki">https://github.com/linux-sunxi/u-boot-sunxi/wiki</a>
</p>
<h3><span class="mw-headline" id="Copy_to_SD_card">Copy to SD card</span></h3>
<pre>mkdir bootloader
mount -o loop bootloader.img bootloader
</pre>
<p>Copy files to bootloader partition:
</p>
<pre>mount ${card}1 /mnt/
cp uImage  /mnt
cp bootloader/script.bin /mnt

cat &gt;/mnt/uEnv.txt &lt;&lt; EOT
fexfile=script.bin
kernel=uImage
extraargs=root=/dev/mmcblk0p2 loglevel=8 rootwait console=ttyS0,115200 rw init=/init mac_addr=00:AE:99:A3:E4:AF
boot_mmc=fatload mmc 0 0x43000000 ${fexfile}; fatload mmc 0 0x48000000 ${kernel}; bootm 0x48000000
EOT
</pre>
<p>Recovery uEnv.txt
</p>
<pre>cat &gt;/mnt/uEnv_recovery.txt &lt;&lt; EOT
fexfile=script.bin
kernel=uImage
extraargs=root=/dev/mmcblk0p7 loglevel=8 rootwait console=ttyS0,115200 rw init=/init mac_addr=00:AE:99:A3:E4:AF
boot_mmc=fatload mmc 0 0x43000000 ${fexfile}; fatload mmc 0 0x48000000 ${kernel}; bootm 0x48000000
EOT

umount /mnt
umount bootloader
</pre>
<p>Copy data to Ramdisk partition:
</p>
<pre>mount ${card}2 /mnt
tar -xpvf boot.tar -C /mnt
</pre>
<p><b>Note:</b> If you would like to add additional Wifi drivers, you can actually do that here. 
<a rel="nofollow" class="external text" href="http://taqlim.blogspot.com/2013/06/belkin-f7d1101-wireless-usb-on-android.html">This</a> reference will help you get the idea of what needs to be done to include additional Wifi modules for android.
</p><p>This page also includes the kernel modules for r8712u and directions on how to compile and add your own Wifi modules.
</p><p>Modify the name partition in init.sun4i.rc
</p>
<pre>sed -i "s/nandd/mmcblk0p3/g"  /mnt/init.sun4i.rc
sed -i "s/nande/mmcblk0p5/g"  /mnt/init.sun4i.rc
sed -i "s/nandh/mmcblk0p8/g"  /mnt/init.sun4i.rc
sed -i "s/nandi/mmcblk0p10/g" /mnt/init.sun4i.rc
umount /mnt
</pre>
<p>Copy data to system partition:
</p>
<pre>mount ${card}3 /mnt
tar -xpvf system.tar -C /mnt
umount /mnt
</pre>
<p>Copy data to recovery partition:
</p>
<pre>mount ${card}7 /mnt
tar -xpvf recovery.tar -C /mnt
sed -i "s/nandf/mmcblk0p6/g"  /mnt/ueventd.sun4i.rc
umount /mnt
sync
</pre>
<p>Now you can boot Android from SD card.
</p>
<h2><span class="mw-headline" id="Automated_Flash_Kitchen">Automated Flash Kitchen</span></h2>
<p>Thierry Merle has assembled a Flash Kitchen originally for the Mele A2000 but it also works for other A10 devices.
</p><p>Download v2 from here: <a rel="nofollow" class="external free" href="http://tmerle.blogspot.fr/2012/09/mele-a2000-my-own-linux-flash-kitchen.html">http://tmerle.blogspot.fr/2012/09/mele-a2000-my-own-linux-flash-kitchen.html</a>
</p><p>After having put the original.img file (PhoenixCard source image), run "make build_sdcard" as root and it should create everything needed to generate the SD card boot files in sdcard/.
</p><p>Then, you will have to 'cd sdcard/', then run 'make DEV=/dev/sdX' (where X is the device letter of your SD card).
</p>
<h3><span class="mw-headline" id="Requirements">Requirements</span></h3>
<p>Wine - in order to extract/build the flash image (look below for enhancements).
</p><p>Root access for scripts other than img_1extract.sh/img_2build.sh.
</p><p>The script will create /system in your root directory. This is necessary if you make symbolic links in "system" filesystem.
</p><p>Of course, you need an original image (that you will rename as original.img) to start hacking.
</p>
<h3><span class="mw-headline" id="Enhancements">Enhancements</span></h3>
<ul><li>If you don't have Wine you can use Ithamar's awutils <a class="external autonumber" href="https://github.com/Ithamar/awutils">[1]</a> in img_1extract.sh instead of unimg.exe. You can find more info in <a href="Awutils.html" title="Awutils">Awutils</a>.</li></ul>
<ul><li>Here's abootimg statically linked and stripped for i386 and amd64: <a rel="nofollow" class="external free" href="https://www.dropbox.com/s/xbe2u7ai6aqaob1/abootimg_i386+amd64_statically_linked+stripped.tar.xz">https://www.dropbox.com/s/xbe2u7ai6aqaob1/abootimg_i386+amd64_statically_linked+stripped.tar.xz</a></li></ul>
<p>i386 is untested natively so to be sure also included are the static libraries libblkid.a and libuuid.a and you might need blkid.h
</p><p>Change the LDLIBS line in the Makefile as follows:
</p>
<pre>LDLIBS=-static -lblkid -luuid -L.
</pre>
<ul><li>#!/bin/bash and function function_name() work better together in mkA10card.sh</li></ul>
<ul><li>"partition ends on cylinder 1023, beyond the end of the disk"</li></ul>
<p>You have to make some adjustments to partitions.txt. It's for a 16 GB SD card and so it will show something like Capacity: 18446744 TB (-8,198,815,744 bytes). So you have to calculate partitions.txt yourself.
</p>
<h3><span class="mw-headline" id="General_information">General information</span></h3>
<ul><li>When make fails and you want to run it again:</li></ul>
<pre>tar: .: Cannot change ownership to uid 1000, gid 1000: Operation not permitted"
</pre>
<p>FAT does not allow UID, GID and symlinks. You have to copy the files manually.
</p>
<h2><span class="mw-headline" id="Pre-built_A10_SDcard_images">Pre-built A10 SDcard images</span></h2>
<p>As an assist here, I have created a few <b>8GB</b> SDcard images for Android on the Cubieboard A10 (<b>Use at your own risk, they are to be considered developmental images</b>):
</p><p>Images based on Android TV 1.0 NAND image:
</p>
<ul><li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/android.cubieboard.a10.512mb.8gbsd.img.7z">For Cubieboard A10 w/ 512MB Ram - Image</a></li>
<li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/android.cubieboard.a10.512mb.8gbsd.img.md5">For Cubieboard A10 w/ 512MB Ram - MD5 for Image</a></li>
<li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/android.cubieboard.a10.1024mb.8gbsd.img.7z">For Cubieboard A10 w/ 1024MB Ram - Image</a></li>
<li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/android.cubieboard.a10.1024mb.8gbsd.img.md5">For Cubieboard A10 w/ 1024MB Ram - MD5 for Image</a></li></ul>
<p>Image based on Android TV 2.2 (8192cu WiFi chipset) NAND image:
</p>
<ul><li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/android.cubieboard.a10.1024mb.8gbsd.TV.2.2.img.7z">For Cubieboard A10 w/ 1024MB Ram - Image</a></li>
<li><a rel="nofollow" class="external text" href="http://dl.extremehosting.us/cubieboard/android.cubieboard.a10.1024mb.8gbsd.TV.2.2.img.md5">For Cubieboard A10 w/ 1024MB Ram - MD5 for Image</a></li></ul>
<p>To install use <code>dd</code> in Linux or Win32DiskImager in Windows to write the image to your SDcard.
</p>
<dl><dt>Notes about the above images</dt>
<dd></dd></dl>
<ul><li>The 512Mb image above is based on the A10-OLinuXino-LIME Android image located <a rel="nofollow" class="external text" href="https://www.olimex.com/wiki/A10-OLinuXino-LIME#Android#Android">here.</a> but uses the system, boot and recovery from the linux-sunxi Android TV 1.0 image and uses the Olimex u-boot image and kernel.</li>
<li>If you want, the Olimex image will run on the Cubieboard A10, however, as Olimex never released an A10 board with 1GB ram, the image's u-boot only supports up to 512Mb of memory.</li>
<li>If you boot and use the 512mb image you will be limited to 512Mb ram in Android (Keep in mind that the GPU gets assigned memory as well so with this image you have roughly 306Mb of usable memory).</li>
<li>All other images have a custom compiled u-boot that was compiled using the directions below on a Cubieboard A10 running Debian Server.</li>
<li>These images do have some apps already installed and do not come in a factory reset state.  I took the liberty to install Bubbleupnp, Mxplayer, Chrome, Firefox and a few other goodies that you may find useful.</li>
<li>If you do not care for the already installed apps, simply do a factory reset your self on first boot.</li>
<li>Since you will be booting from the SDcard, you will obviously not have an SDcard available to leverage for downloads.  Some apps will give errors when trying to download files as there is no 'SDcard' present.</li>
<li>To help with not having an SDcard available, I have left you quite a large internal storage partition, so you shouldn't have issues with installing any needed apps.</li>
<li>Some wifi adapters may be compatible with these images, but I am not sure which are included in the Olimex kernel.  The TV 2.2 images includes the chipsets noted.</li>
<li>Some SDcards are really slow! The slower your card the longer it will take to boot and the more laggy things will seem. I recommend a Class 10 card for best performance (Class 4 will work, but will be slow).</li></ul>
<!-- 
NewPP limit report
Cached time: 20251029040847
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.065 seconds
Real time usage: 0.082 seconds
Preprocessor visited node count: 47/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:548-0!canonical and timestamp 20251029040847 and revision id 20754
 -->
</div></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://linux-sunxi.org/index.php?title=Boot_Android_from_SdCard&amp;oldid=20754">https://linux-sunxi.org/index.php?title=Boot_Android_from_SdCard&amp;oldid=20754</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category:Tutorial.html" title="Category:Tutorial">Tutorial</a></li><li><a href="Category:Android.html" title="Category:Android">Android</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-personal" class="vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label">
		<span>Personal tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="pt-createaccount"><a href="https://linux-sunxi.org/index.php?title=Special:CreateAccount&amp;returnto=Boot+Android+from+SdCard" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://linux-sunxi.org/index.php?title=Special:UserLogin&amp;returnto=Boot+Android+from+SdCard" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li></ul>
		
	</div>
</nav>


		<div id="left-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-namespaces" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label">
		<span>Namespaces</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected"><a href="Boot_Android_from_SdCard.html" title="View the content page [c]" accesskey="c">Page</a></li><li id="ca-talk" class="new"><a href="https://linux-sunxi.org/index.php?title=Talk:Boot_Android_from_SdCard&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-variants" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>Variants</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


		</div>
		<div id="right-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-views" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label">
		<span>Views</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-view" class="collapsible selected"><a href="Boot_Android_from_SdCard.html">Read</a></li><li id="ca-viewsource" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=Boot_Android_from_SdCard&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=Boot_Android_from_SdCard&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-cactions" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-cactions-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>More</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


			<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">Search</label>
	</h3>
	<form action="https://linux-sunxi.org/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="Search linux-sunxi.org" title="Search linux-sunxi.org [f]" accesskey="f" id="searchInput"/>
			<input type="hidden" name="title" value="Special:Search">
			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a  title="Visit the main page" class="mw-wiki-logo" href="index.html"></a>
	</div>
	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-navigation" class="vector-menu vector-menu-portal portal portal-first" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<h3 id="p-navigation-label">
		<span>Navigation</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-mainpage-description"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-portal"><a href="sunxi:Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="https://linux-sunxi.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="The place to find out">Help</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-tb" class="vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label">
		<span>Tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere"><a href="Special:WhatLinksHere/Boot_Android_from_SdCard.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://linux-sunxi.org/Special:RecentChangesLinked/Boot_Android_from_SdCard" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://linux-sunxi.org/index.php?title=Boot_Android_from_SdCard&amp;oldid=20754" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://linux-sunxi.org/index.php?title=Boot_Android_from_SdCard&amp;action=info" title="More information about this page">Page information</a></li></ul>
		
	</div>
</nav>


	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
		<li id="footer-info-lastmod"> This page was last edited on 18 December 2017, at 18:32.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a> unless otherwise noted.</li>
	</ul>
	<ul id="footer-places" >
		<li id="footer-places-privacy"><a href="https://linux-sunxi.org/sunxi:Privacy_policy" title="sunxi:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="https://linux-sunxi.org/sunxi:About" title="sunxi:About">About linux-sunxi.org</a></li>
		<li id="footer-places-disclaimer"><a href="https://linux-sunxi.org/sunxi:General_disclaimer" title="sunxi:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="https://linux-sunxi.org/resources/assets/licenses/cc-by.png" alt="Creative Commons Attribution" width="88" height="31" loading="lazy"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://linux-sunxi.org/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</footer>



<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.065","walltime":"0.082","ppvisitednodes":{"value":47,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20251029040847","ttl":86400,"transientcontent":false}}});});</script>
<!-- No web analytics configured. -->

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":488});});</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"016cbc9bb6a94e94934580b61e921a02","server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body></html>
