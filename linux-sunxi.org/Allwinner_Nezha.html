
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Allwinner Nezha - linux-sunxi.org</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"5f0dac7a06586d6d588f95dc","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Allwinner_Nezha","wgTitle":"Allwinner Nezha","wgCurRevisionId":26440,"wgRevisionId":26440,"wgArticleId":3993,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["NDH TODO","Devices","Devices with Ethernet port","Devices with Wifi","Devices with HDMI port","Devices with LVDS port","D1 Boards"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Allwinner_Nezha","wgRelevantArticleId":3993,"wgIsProbablyEditable":!1,
"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.page.gallery.styles":"ready","skins.vector.styles.legacy":"ready","mediawiki.toc.styles":"ready"};RLPAGEMODULES=["ext.RegularTooltips","site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=mediawiki.page.gallery.styles%7Cmediawiki.toc.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://linux-sunxi.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://linux-sunxi.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.8"/>
<link rel="shortcut icon" href="https://linux-sunxi.org/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://linux-sunxi.org/opensearch_desc.php" title="linux-sunxi.org (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://linux-sunxi.org/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="linux-sunxi.org Atom feed" href="https://linux-sunxi.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="Allwinner_Nezha.html"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Allwinner_Nezha rootpage-Allwinner_Nezha skin-vector action-view skin-vector-legacy">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Allwinner Nezha</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From linux-sunxi.org</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><table class="infobox" cellspacing="5" style="width:22em;">
<tbody><tr><th colspan="2" class="" style="text-align:center; font-size:125%; font-weight:bold; background: #dedede;">Allwinner Nezha</th></tr>
<tr class=""><td colspan="2" class="" style="text-align:center;"><a href="https://linux-sunxi.org/File:Allwinner_Nezha_Front.jpg" class="image"><img alt="Allwinner Nezha Front.jpg" src="https://linux-sunxi.org/images/thumb/1/1b/Allwinner_Nezha_Front.jpg/250px-Allwinner_Nezha_Front.jpg" decoding="async" width="250" height="167" srcset="https://linux-sunxi.org/images/thumb/1/1b/Allwinner_Nezha_Front.jpg/375px-Allwinner_Nezha_Front.jpg 1.5x, https://linux-sunxi.org/images/thumb/1/1b/Allwinner_Nezha_Front.jpg/500px-Allwinner_Nezha_Front.jpg 2x" /></a></td></tr>
<tr class="">
  <th scope="row" style="text-align:left;"> Manufacturer </th><td> <a rel="nofollow" class="external text" href="https://www.allwinnertech.com">Allwinner</a>
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Dimensions </th><td> 85<i>mm</i> x 56<i>mm</i> x 15<i>mm</i>
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Release Date </th><td> April 2021
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Website </th><td> <a rel="nofollow" class="external text" href="https://d1.docs.allwinnertech.com/d1_dev/">Product Page</a>
</td></tr><tr><th colspan="2" style="text-align:center;background:#dedede;"> Specifications
</th></tr><tr class="">
  <th scope="row" style="text-align:left;"> SoC </th><td> <a href="D1.html" title="D1">D1</a> @ 1.0Ghz
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> DRAM </th><td> 512MiB/1GiB/2GiB DDR3 @ 792MHz, 2×<a rel="nofollow" class="external text" href="https://product.skhynix.com/download.do?attNo=1754&amp;attTypeCd=TRT06">H5TQ4G63EFR</a>
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> NAND </th><td> 256MB, <a rel="nofollow" class="external text" href="https://www.mxic.com.tw/en-us/products/NAND-Flash/Serial-NAND-Flash/Pages/spec.aspx?p=MX35LF2GE4AD&amp;m=Serial+NAND&amp;n=PM2794">MX35LF2GE4AD</a>
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Power </th><td> DC 5V @ 2A (via OTG or dedicated USB Type-C connector)
</td></tr><tr><th colspan="2" style="text-align:center;background:#dedede;"> Features
</th></tr><tr class="">
  <th scope="row" style="text-align:left;"> Video </th><td> HDMI (Type A - full), LVDS
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Audio </th><td> 3.5mm headphone plug, HDMI, microphone array board connector, I2S
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Network </th><td> WiFi 802.11 b/g/n (<a href="Wifi.html#Manufacturer" title="Wifi">XRadioTech XR829</a>), 10/100/1000Mbps Ethernet (<a href="Ethernet.html#Phyceiver" title="Ethernet">Realtek RTL8211F</a>)
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Storage </th><td> µSD, SPI NAND
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> USB </th><td> 1 USB2.0 Host, 1 USB Type-C OTG
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Other </th><td> Power LED, RGB LED, OK &amp; FEL buttons
</td></tr><tr class="">
  <th scope="row" style="text-align:left;"> Headers </th><td> 40-pin GPIO, DEBUG
</td></tr>
</tbody></table>
<p>The Allwinner Nezha is the first <a href="D1.html" title="D1">D1</a> based board made available to the general public. It was sold through several distributors, including RVBoards and <a rel="nofollow" class="external text" href="https://www.sipeed.com/">Sipeed</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Identification"><span class="tocnumber">1</span> <span class="toctext">Identification</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#General_Notes"><span class="tocnumber">2</span> <span class="toctext">General Notes</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Sunxi_support"><span class="tocnumber">3</span> <span class="toctext">Sunxi support</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Current_status"><span class="tocnumber">3.1</span> <span class="toctext">Current status</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Manual_build"><span class="tocnumber">3.2</span> <span class="toctext">Manual build</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#U-Boot"><span class="tocnumber">3.2.1</span> <span class="toctext">U-Boot</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="#OpenSBI"><span class="tocnumber">3.2.1.1</span> <span class="toctext">OpenSBI</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#Mainline_U-Boot"><span class="tocnumber">3.2.1.2</span> <span class="toctext">Mainline U-Boot</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#BSP_U-Boot"><span class="tocnumber">3.2.1.3</span> <span class="toctext">BSP U-Boot</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="#BSP_boot0_SPL"><span class="tocnumber">3.2.1.4</span> <span class="toctext">BSP boot0 SPL</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-11"><a href="#Linux_Kernel"><span class="tocnumber">3.2.2</span> <span class="toctext">Linux Kernel</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#BSP_Linux_Kernel"><span class="tocnumber">3.2.2.1</span> <span class="toctext">BSP Linux Kernel</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#Mainline_kernel"><span class="tocnumber">3.2.2.2</span> <span class="toctext">Mainline kernel</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Writing_the_kernel_to_SD_card"><span class="tocnumber">3.2.2.3</span> <span class="toctext">Writing the kernel to SD card</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Build_tool"><span class="tocnumber">3.3</span> <span class="toctext">Build tool</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#Buildroot"><span class="tocnumber">3.3.1</span> <span class="toctext">Buildroot</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Yocto"><span class="tocnumber">3.3.2</span> <span class="toctext">Yocto</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#SkiffOS_.28Buildroot.29"><span class="tocnumber">3.3.3</span> <span class="toctext">SkiffOS (Buildroot)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Tips.2C_Tricks.2C_Caveats"><span class="tocnumber">4</span> <span class="toctext">Tips, Tricks, Caveats</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#RV_86"><span class="tocnumber">4.1</span> <span class="toctext">RV 86</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#FEL_mode"><span class="tocnumber">4.2</span> <span class="toctext">FEL mode</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#JTAG"><span class="tocnumber">4.3</span> <span class="toctext">JTAG</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#DRAM_Driver"><span class="tocnumber">4.4</span> <span class="toctext">DRAM Driver</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Enabling_U-Boot_command_line"><span class="tocnumber">4.5</span> <span class="toctext">Enabling U-Boot command line</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Default_Firmware_Environment"><span class="tocnumber">4.6</span> <span class="toctext">Default Firmware Environment</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Oops_tracing"><span class="tocnumber">4.7</span> <span class="toctext">Oops tracing</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="#Adding_a_serial_port"><span class="tocnumber">5</span> <span class="toctext">Adding a serial port</span></a></li>
<li class="toclevel-1 tocsection-28"><a href="#Adding_a_reset_pin"><span class="tocnumber">6</span> <span class="toctext">Adding a reset pin</span></a></li>
<li class="toclevel-1 tocsection-29"><a href="#Development_and_test_automation"><span class="tocnumber">7</span> <span class="toctext">Development and test automation</span></a></li>
<li class="toclevel-1 tocsection-30"><a href="#Pictures"><span class="tocnumber">8</span> <span class="toctext">Pictures</span></a></li>
<li class="toclevel-1 tocsection-31"><a href="#Schematic"><span class="tocnumber">9</span> <span class="toctext">Schematic</span></a></li>
<li class="toclevel-1 tocsection-32"><a href="#See_also"><span class="tocnumber">10</span> <span class="toctext">See also</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="#Manufacturer_images"><span class="tocnumber">10.1</span> <span class="toctext">Manufacturer images</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Identification">Identification</span></h1>
<p>There are at least two known revisions of the board. The older version is silkscreened <tt>D1_DEV_DDR3_16X2_V1_0</tt> on the top and does not have the <tt>AWOL</tt> logo. The newer version has the <tt>AWOL</tt> anagram silkscreened on the front (<tt>d1.docs.aw-ol.com</tt> being the official documentation website with the same logo), and the identifier <tt>D1_DEV_DDR3_16X2_V1_2</tt> on the back.
</p><p>The front side of both PCB versions has a variant of the Nezha logo.
</p><p>The back also has a sticker containing a QR code, with the board serial number below it. Scanning the QR code reveals the following URL:
</p>
<ul><li><a rel="nofollow" class="external free" href="https://d1.docs.allwinnertech.com?device=d1nezha#serial#serial">https://d1.docs.allwinnertech.com?device=d1nezha#serial</a> (with #serial replaced by the serial number)</li></ul>
<h1><span class="mw-headline" id="General_Notes">General Notes</span></h1>
<p>The device is are sometimes being shipped with an SD with Debian installed.
Console logs:
<a class="external free" href="https://gist.github.com/heitbaum/e4dceeb7b236560b94cc66fce91cdd11">https://gist.github.com/heitbaum/e4dceeb7b236560b94cc66fce91cdd11</a>
</p><p>Sometimes the device only ships with TinaLinux in NAND.  Console logs booting into TinaLinux:  <a rel="nofollow" class="external free" href="https://ovsienko.info/D1/minicom1.cap.txt">https://ovsienko.info/D1/minicom1.cap.txt</a>
</p><p>The Debian images for the D1 can be found here:
<a rel="nofollow" class="external free" href="https://ovsienko.info/D1/">https://ovsienko.info/D1/</a>
</p><p>It is unknown how to boot from any of those images on the NAND only device.
</p>
<h1><span class="mw-headline" id="Sunxi_support">Sunxi support</span></h1>
<h2><span class="mw-headline" id="Current_status">Current status</span></h2>
<p><span style="color:#ba0000">Work based on mainline versions of Linux/U-Boot is very much a work in progress, and nothing finished/merged is currently available.</span>
</p><p>The BSP U-Boot/kernel use a NAND layout which merges a pair of pages from consecutive blocks into a super-page. Mainline uses the physical layout as-is. So while SPI NAND contents are accessible from both mainline and BSP kernels, they are only usable by one driver or the other. For this reason, it is recommended to install mainline software to an SD card, and leave the SPI NAND alone.
</p><p>Disabling the <tt>CONFIG_AW_SPINAND_SIMULATE_MULTIPLANE</tt> option in the BSP kernel should make its layout compatible with mainline, but this has not been tested.
</p>
<h2><span class="mw-headline" id="Manual_build">Manual build</span></h2>
<p>You can build things for yourself by following the instructions below.
</p><p>To build, you need a cross-compiler (riscv64-linux-gnu-gcc) and swig.
</p>
<h3><span class="mw-headline" id="U-Boot">U-Boot</span></h3>
<p>Boot firmware on the D1 consists of three parts, which largely correspond to the components used by 64-bit ARM SoCs:
</p>
<ol><li>U-Boot SPL (Secondary Program Loader) which is responsible for initializing DRAM and loading further firmware from storage.</li>
<li>OpenSBI, which runs in machine mode and provides a standard "SBI" interface to less privileged modes. This is similar to how TF-A runs in EL3 and provides PSCI on 64-bit ARM.</li>
<li>U-Boot proper, which initializes additional hardware and loads Linux from storage or the network.</li></ol>
<h4><span class="mw-headline" id="OpenSBI">OpenSBI</span></h4>
<p>Mainline OpenSBI fully supports the C906 CPU and the Allwinner D1 SoC out of the box since version 1.1. You should use upstream OpenSBI, not any fork.
</p>
<pre>git clone https://github.com/riscv-software-src/opensbi
pushd opensbi
make CROSS_COMPILE=riscv64-linux-gnu- PLATFORM=generic FW_PIC=y
popd
</pre>
<p>For recent versions of OpenSBI that include Kconfig support, you can reduce the size of the firmware by disabling almost all of the drivers. The only necessary ones are <tt>FDT_IRQCHIP_PLIC</tt>, <tt>FDT_RESET_SUNXI_WDT</tt>, and <tt>FDT_SERIAL_UART8250</tt>.
</p>
<pre>make CROSS_COMPILE=riscv64-linux-musl- PLATFORM=generic menuconfig
</pre>
<h4><span class="mw-headline" id="Mainline_U-Boot">Mainline U-Boot</span></h4>
<p>Mainline U-Boot support is mostly complete, but is not merged yet. Booting Linux from the network, USB, and an SD card works. Some refactoring of the various sunxi device drivers is still needed before any RISC-V sunxi platforms can be upstreamed.
</p><p><b>NOTE: As of 2022-11-01, this branch includes full U-Boot SPL support, so using the BSP boot0 or a TOC1 image is no longer necessary.</b>
</p><p>Download a patched version and compile it like so:
</p>
<pre>git clone https://github.com/smaeul/u-boot -b d1-wip
pushd u-boot
make CROSS_COMPILE=riscv64-linux-gnu- nezha_defconfig
make CROSS_COMPILE=riscv64-linux-gnu- OPENSBI=../opensbi/build/platform/generic/firmware/fw_dynamic.bin
</pre>
<p>These commands will generate the file <tt>u-boot-sunxi-with-spl.bin</tt> which contains the entire firmware and can be written to an SD card, just like for ARM-based Allwinner boards. See <a href="Bootable_SD_card.html#Bootloader" title="Bootable SD card">Bootable_SD_card#Bootloader</a> for flashing instructions.
</p><p>You can also copy or symlink <tt>fw_dynamic.bin</tt> into the U-Boot build directory instead of exporting the <tt>OPENSBI</tt> variable.
</p>
<h4><span class="mw-headline" id="BSP_U-Boot">BSP U-Boot</span></h4>
<p>BSP U-Boot is a heavily hacked U-Boot 2018-05 branch. Using it is not recommended. It is available at <a class="external free" href="https://github.com/Tina-Linux/u-boot-2018">https://github.com/Tina-Linux/u-boot-2018</a>
</p><p>(This U-Boot also suit for Alleinner new chips after 2018)
</p><p>The main change is the modification of Makefle to suit the Tina Linux build system.
</p><p>There are some simple patches for port the BSP U-Boot to Buildroot: <a class="external free" href="https://github.com/YuzukiHD/Buildroot-YuzukiSBC/tree/master/buildroot/board/awol/nezha-d1s/patch/uboot">https://github.com/YuzukiHD/Buildroot-YuzukiSBC/tree/master/buildroot/board/awol/nezha-d1s/patch/uboot</a>
</p>
<h4><span class="mw-headline" id="BSP_boot0_SPL">BSP boot0 SPL</span></h4>
<p>If you are using an old version of the mainline U-Boot branch, or the BSP U-Boot, you will need to use the BSP's boot0 as SPL. If you are using a current version of mainline U-Boot, you do not need this.
</p><p>This version has been modified so it can be built outside the BSP's build system, so it compiles with mainline GCC, and so it cooperates better with mainline firmware binaries. See the commit history for more details. Below is the process for building it and writing it to an SD card:
</p>
<pre>git clone https://github.com/smaeul/sun20i_d1_spl -b mainline
pushd sun20i_d1_spl
make CROSS_COMPILE=riscv64-linux-gnu- p=sun20iw1p1 mmc
sudo dd if=nboot/boot0_sdcard_sun20iw1p1.bin of=/dev/sdX bs=8192 seek=1
popd
</pre>
<p>The D1 boot ROM can read the boot0 SPL from two different locations:
</p>
<ul><li>starting at sector 16</li>
<li>starting at sector 256</li></ul>
<p>The location in sector 16 is incompatible with GPT partioning which by default uses 34 sectors. In gdisk you will have to reduce the number of entries in the partition table to &#x2264; 56 via the expert settings. So it may be preferable to write boot0 starting at sector 256 instead:
</p>
<pre>sudo dd if=nboot/boot0_sdcard_sun20iw1p1.bin of=/dev/sdX bs=8192 seek=16
</pre>
<p>A boot message tells you which location was used for booting:
</p>
<pre>Loading boot-pkg Succeed(index=1)
</pre>
<table>
<tbody><tr>
<th>Index</th>
<th>Sector
</th></tr>
<tr>
<td>0</td>
<td>16
</td></tr>
<tr>
<td>1</td>
<td>256
</td></tr></tbody></table>
<p>Note that boot0 does some magic like enabling the T-HEAD ISA and MMU extensions. Those stay enabled all the way through entering Linux, which expects the custom PTE format.
</p><p>boot0 expects to load a TOC1 image containing OpenSBI and U-Boot (and a DTB). This is similar to, but incompatible with, mainline U-Boot SPL, which expects a FIT image.
</p><p>The mainline U-Boot branch builds a <tt>mkimage</tt> tool which contains rudimentary support for making TOC1 images. Since a TOC1 can contain multiple items, we must create a config file telling <tt>mkimage</tt> where to find them. Use the following content, adjusting the path to OpenSBI as needed:
</p>
<pre>[opensbi]
file = ../opensbi/build/platform/generic/firmware/fw_dynamic.bin
addr = 0x40000000
[dtb]
file = u-boot.dtb
addr = 0x44000000
[u-boot]
file = u-boot-nodtb.bin
addr = 0x4a000000
</pre>
<p>Now, continuing in the U-Boot directory, create the TOC1:
</p>
<pre>vim toc1.cfg # or your editor of choice; see above
tools/mkimage -T sunxi_toc1 -d toc1.cfg u-boot.toc1
</pre>
<p>You should get output that looks like this:
</p>
<pre>Allwinner TOC1 Image
Size: 592896 bytes
Contents: 3 items
 00000000:00000490 Headers
 00000600:00018720 =&gt; 40000000 opensbi
 00018e00:00007387 =&gt; 44000000 dtb
 00020200:00070820 =&gt; 4a000000 u-boot
</pre>
<p>Now you can write this TOC1 to your SD card. Note the large (16+ MiB) offset! You will need to leave a gap before your first partition; 20 MiB should be plenty. (Or you can change <tt>UBOOT_START_SECTOR_IN_SDMMC</tt> in <tt>include/spare_head.h</tt> in boot0.)
</p>
<pre>sudo dd if=u-boot.toc1 of=/dev/sdX bs=512 seek=32800
</pre>
<p>If boot0 fails to load from the SD card sector 32800, it falls back to loading from the backup sector 24576. So it makes sense to write a U-Boot backup there:
</p>
<pre>sudo dd if=u-boot.toc1 of=/dev/sdX bs=512 seek=24576
</pre>
<h3><span class="mw-headline" id="Linux_Kernel">Linux Kernel</span></h3>
<h4><span class="mw-headline" id="BSP_Linux_Kernel">BSP Linux Kernel</span></h4>
<p>The bsp Linux Kernel is available at <a class="external free" href="https://github.com/Tina-Linux/tina-d1x-linux-5.4">https://github.com/Tina-Linux/tina-d1x-linux-5.4</a> 
</p>
<h4><span class="mw-headline" id="Mainline_kernel">Mainline kernel</span></h4>
<p>A WIP branch is available at <a class="external free" href="https://github.com/smaeul/linux/commits/d1/all">https://github.com/smaeul/linux/commits/d1/all</a> which supports most of the hardware peripherals (Audio, Ethernet, MMC, SPI NAND, USB, RGB LCD, HDMI, MIPI DSI).
</p><p>Use the devicetree provided in RAM by the platform firmware (for U-Boot, this means <tt>$fdtcontroladdr</tt>). Do not load a DTB from storage.
</p><p>Build using:
</p>
<pre>$ make ARCH=riscv nezha_defconfig
...
$ make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu-
...
</pre>
<h4><span class="mw-headline" id="Writing_the_kernel_to_SD_card">Writing the kernel to SD card</span></h4>
<p>You can create an ext4 partition that holds your kernel, but that partition needs to leave a gap at the start of the disk, as described above.
</p><p>In this filesystem, place the kernel in <tt>/boot/Image</tt> and in addition to this, create the file <tt>/boot/extlinux/extlinux.conf</tt> that looks similar to this:
</p>
<pre>label default
	linux /Image
	append root=/dev/mmcblk0p2 rootwait console=ttyS0,115200 earlycon=sbi ignore_loglevel init=/lib/systemd/systemd
</pre>
<h2><span class="mw-headline" id="Build_tool">Build tool</span></h2>
<h3><span class="mw-headline" id="Buildroot">Buildroot</span></h3>
<p>You can find a simple Buildroot usage at <a class="external free" href="https://github.com/YuzukiHD/Buildroot-YuzukiSBC">https://github.com/YuzukiHD/Buildroot-YuzukiSBC</a>.
</p>
<h3><span class="mw-headline" id="Yocto">Yocto</span></h3>
<p>The community-run <a rel="nofollow" class="external text" href="https://layers.openembedded.org/layerindex/branch/master/layer/meta-riscv/">meta-riscv</a> BSP layer includes support for the <a class="external text" href="https://github.com/riscv/meta-riscv/blob/master/conf/machine/nezha-allwinner-d1.conf">nezha-allwinner-d1</a>.
</p>
<ul><li>U-Boot: <a class="external free" href="https://github.com/smaeul/u-boot/tree/d1-wip">https://github.com/smaeul/u-boot/tree/d1-wip</a></li>
<li>Linux kernel: <a class="external free" href="https://github.com/smaeul/linux/tree/d1/all">https://github.com/smaeul/linux/tree/d1/all</a></li></ul>
<h3><span id="SkiffOS_(Buildroot)"></span><span class="mw-headline" id="SkiffOS_.28Buildroot.29">SkiffOS (Buildroot)</span></h3>
<p><a class="external text" href="https://github.com/skiffos/skiffos">SkiffOS</a> uses Buildroot to compile a fully-featured Linux system for the Allwinner D1 including optional support for Docker containers and other applications.
</p>
<h1><span id="Tips,_Tricks,_Caveats"></span><span class="mw-headline" id="Tips.2C_Tricks.2C_Caveats">Tips, Tricks, Caveats</span></h1>
<h2><span class="mw-headline" id="RV_86">RV 86</span></h2>
<p>If you have a <a href="Lichee_RV_86_Panel.html" title="Lichee RV 86 Panel">Lichee RV 86 Panel</a> then build u-boot with the <b>lichee_rv_86_panel_defconfig</b> instead.
</p>
<h2><span class="mw-headline" id="FEL_mode">FEL mode</span></h2>
<p>The <tt>FEL</tt> button triggers <a href="FEL" title="FEL"> FEL mode</a>.
</p><p>The <a class="external text" href="https://github.com/xboot/xfel">xfel</a> tool has support for the D1 chip. Currently <tt>sunxi-fel</tt> (from <a href="Sunxi-tools.html" title="Sunxi-tools">Sunxi-tools</a>) lists the SoC as <tt>unknown</tt>.
</p>
<h2><span class="mw-headline" id="JTAG">JTAG</span></h2>
<p>While in FEL mode, run `xfel jtag` to enable <a href="JTAG" title="JTAG">JTAG</a> access.
</p><p>Use an adjusted copy of Sipeed's config file ( <a class="external free" href="https://github.com/orangecms/RV-Debugger-BL702/tree/nezha">https://github.com/orangecms/RV-Debugger-BL702/tree/nezha</a> ) with OpenOCD for RISC-V:
</p>
<pre>openocd --file tools/openocd/openocd-usb-sipeed.cfg
Open On-Chip Debugger 0.11.0-rc1+dev-00001-g0dd3b7fa6-dirty (2020-12-24-20:50)
Licensed under GNU GPL v2
For bug reports, read
        http://openocd.org/doc/doxygen/bugs.html
SiPEED USB-JTAG/TTL Ready for Remote Connections
Info&#160;: Listening on port 6666 for tcl connections
Info&#160;: Listening on port 4444 for telnet connections
Info&#160;: clock speed 1000 kHz
Info&#160;: JTAG tap: riscv.cpu tap/device found: 0x08052b43 (mfg: 0x5a1 (&lt;unknown&gt;), part: 0x8052, ver: 0x0)
Error: riscv.cpu: IR capture error; saw 0x1f not 0x01
Warn&#160;: Bypassing JTAG setup events due to errors
Error: dtmcontrol is 0. Check JTAG connectivity/board power.
Warn&#160;: target riscv.cpu.0 examination failed
Info&#160;: starting gdb server for riscv.cpu.0 on 3333
Info&#160;: Listening on port 3333 for gdb connections
Info&#160;: accepting 'gdb' connection on tcp/3333
</pre>
<p>TODO: figure out the "examination"
</p>
<h2><span class="mw-headline" id="DRAM_Driver">DRAM Driver</span></h2>
<p>As usual there is no documentation for the memory controller or PHY IP used here. The baseline of this code was lifted from <a class="external text" href="https://github.com/szemzoa/awboot">awboot</a>, which seems to be based on some form of de-compilation of some original Allwinner code bits (with a GPL2 license tag from the very beginning). This version here is a reworked version, to match the U-Boot coding style and style of the other Allwinner DRAM drivers.
</p><p>This driver comes with a minimum baremetal for testing. Tested with D1-H, R528, T113 and D1s(F133)
</p><p><a class="external text" href="https://github.com/YuzukiHD/TinyKasKit/tree/master/d1s-dramc">https://github.com/YuzukiHD/TinyKasKit/tree/master/d1s-dramc</a>
</p>
<h2><span class="mw-headline" id="Enabling_U-Boot_command_line">Enabling U-Boot command line</span></h2>
<p>The preinstalled version of U-Boot requires holding down "S" during boot to enter the command line. From a booted Linux system (like the Tina Linux preinstalled in the on-board NAND) run the following command to set a three second delay during which it's possible to enter the command line on the built-in serial port:
</p>
<pre>fw_setenv bootdelay 3</pre>
<p>Note: With the Debian image being shipped - <a rel="nofollow" class="external free" href="http://mirrors.perfxlab.cn/debian-ports">http://mirrors.perfxlab.cn/debian-ports</a> the fw_setenv and fw_printenv are not aligned to the saveenv location.
</p>
<pre>Debian GNU/Linux 11 RVBoards ttyS0
Linux RVBoards 5.4.61 #22 PREEMPT Wed Jun 16 07:27:49 UTC 2021 riscv64
# fw_printenv
Configuration file wrong or corrupted
</pre>
<h2><span class="mw-headline" id="Default_Firmware_Environment">Default Firmware Environment</span></h2>
<p>The default firmware environment for the TinaLinux board:
</p>
<pre>root[at]TinaLinux:/# fw_printenv 
earlyprintk=sunxi-uart,0x02500000
initcall_debug=0
console=ttyS0,115200
nand_root=/dev/ubiblock0_5
mmc_root=/dev/mmcblk0p5
mtd_name=sys
rootfstype=squashfs
root_partition=rootfs
boot_partition=boot
init=/sbin/init
loglevel=8
cma=8M
mac=
wifi_mac=
bt_mac=
specialstr=
keybox_list=widevine,ec_key,ec_cert1,ec_cert2,ec_cert3,rsa_key,rsa_cert1,rsa_cert2,rsa_cert3
dsp0_partition=dsp0
setargs_nand=setenv bootargs ubi.mtd=${mtd_name} ubi.block=0,${root_partition} earlyprintk=${earlyprintk} clk_ignore_unused initcall_debug=${initcall_debug} console=${console} loglevel=${loglevel} root=${nand_root} rootfstype=${rootfstype} init=${init} partitions=${partitions} cma=${cma} snum=${snum} mac_addr=${mac} wifi_mac=${wifi_mac} bt_mac=${bt_mac} specialstr=${specialstr} gpt=1
setargs_nand_ubi=setenv bootargs ubi.mtd=${mtd_name} ubi.block=0,${root_partition} earlyprintk=${earlyprintk} clk_ignore_unused initcall_debug=${initcall_debug} console=${console} loglevel=${loglevel} root=${nand_root} rootfstype=${rootfstype} init=${init} partitions=${partitions} cma=${cma} snum=${snum} mac_addr=${mac} wifi_mac=${wifi_mac} bt_mac=${bt_mac} specialstr=${specialstr} gpt=1
setargs_mmc=setenv  bootargs earlyprintk=${earlyprintk} clk_ignore_unused initcall_debug=${initcall_debug} console=${console} loglevel=${loglevel} root=${mmc_root} rootwait  init=${init} partitions=${partitions} cma=${cma} snum=${snum} mac_addr=${mac} wifi_mac=${wifi_mac} bt_mac=${bt_mac} specialstr=${specialstr} gpt=1
boot_dsp0=sunxi_flash read 45000000 ${dsp0_partition};bootr 45000000 0 0
boot_normal=sunxi_flash read 45000000 ${boot_partition};bootm 45000000
boot_recovery=sunxi_flash read 45000000 recovery;bootm 45000000
boot_fastboot=fastboot
bootcmd=run setargs_nand boot_dsp0 boot_normal
bootdelay=0
</pre>
<h2><span class="mw-headline" id="Oops_tracing">Oops tracing</span></h2>
<p>To get a valid callstack from an OOPS, you need to enable <b>CONFIG_FRAME_POINTER</b> or else the callstacks are not reliable.
</p>
<h1><span class="mw-headline" id="Adding_a_serial_port">Adding a serial port</span></h1>
<div class="thumb tright"><div class="thumbinner" style="width:242px;"><a href="https://linux-sunxi.org/File:Allwinner_Nezha_UART.jpg" class="image"><img alt="" src="https://linux-sunxi.org/images/thumb/8/86/Allwinner_Nezha_UART.jpg/240px-Allwinner_Nezha_UART.jpg" decoding="async" width="240" height="160" class="thumbimage" srcset="https://linux-sunxi.org/images/thumb/8/86/Allwinner_Nezha_UART.jpg/360px-Allwinner_Nezha_UART.jpg 1.5x, https://linux-sunxi.org/images/thumb/8/86/Allwinner_Nezha_UART.jpg/480px-Allwinner_Nezha_UART.jpg 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://linux-sunxi.org/File:Allwinner_Nezha_UART.jpg" class="internal" title="Enlarge"></a></div>Allwinner Nezha UART pads</div></div></div>
<p>The <tt>DEBUG</tt> header at the top-right corner of the board can be used as a serial port. See the <a href="UART.html" title="UART">UART howto</a> for instructions about how to attach to it. The default baud rate is 115200.
</p>
<h1><span class="mw-headline" id="Adding_a_reset_pin">Adding a reset pin</span></h1>
<p>The test pin T6, as per the manual and verified, is the reset pin (RST). A wire can be attached to it, and for convenience, routed to one of the N/C (not connected) pins on the GPIO header. It can be used for test and development automation.
</p>
<h1><span class="mw-headline" id="Development_and_test_automation">Development and test automation</span></h1>
<p>A simple strategy for test automation and bringup development is as follows:
</p>
<ul><li>attach a wire to the FEL button (possibly route to an N/C pin on the GPIO header)</li>
<li>attach a wire to the reset pin</li>
<li>attach to the UART interface</li>
<li>connect to the USB-C OTG</li>
<li>connect to the ethernet port</li></ul>
<p>To test an firmware/OS image, hold FEL, trigger reset, release FEL, then use xfel to bring up DRAM, load the image, and execute it. Watch the output on the UART, try input, and see if the device becomes visible on the network.
</p><p>This can be fully automated, e.g., using another development board offering all the necessary interfaces. It can be instrumented via CI, e.g., as a GitLab runner using <a class="external text" href="https://github.com/linuxboot/contest">ConTest</a>.
</p>
<h1><span class="mw-headline" id="Pictures">Pictures</span></h1>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:35px auto;"><a href="https://linux-sunxi.org/File:Allwinner_Nezha_Front.jpg" class="image"><img alt="Allwinner Nezha Front.jpg" src="https://linux-sunxi.org/images/thumb/1/1b/Allwinner_Nezha_Front.jpg/120px-Allwinner_Nezha_Front.jpg" decoding="async" width="120" height="80" srcset="https://linux-sunxi.org/images/thumb/1/1b/Allwinner_Nezha_Front.jpg/180px-Allwinner_Nezha_Front.jpg 1.5x, https://linux-sunxi.org/images/thumb/1/1b/Allwinner_Nezha_Front.jpg/240px-Allwinner_Nezha_Front.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:35px auto;"><a href="https://linux-sunxi.org/File:Allwinner_Nezha_Back.jpg" class="image"><img alt="Allwinner Nezha Back.jpg" src="https://linux-sunxi.org/images/thumb/f/fa/Allwinner_Nezha_Back.jpg/120px-Allwinner_Nezha_Back.jpg" decoding="async" width="120" height="80" srcset="https://linux-sunxi.org/images/thumb/f/fa/Allwinner_Nezha_Back.jpg/180px-Allwinner_Nezha_Back.jpg 1.5x, https://linux-sunxi.org/images/thumb/f/fa/Allwinner_Nezha_Back.jpg/240px-Allwinner_Nezha_Back.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:35px auto;"><a href="https://linux-sunxi.org/File:Allwinner_Nezha_UART.jpg" class="image"><img alt="Allwinner Nezha UART.jpg" src="https://linux-sunxi.org/images/thumb/8/86/Allwinner_Nezha_UART.jpg/120px-Allwinner_Nezha_UART.jpg" decoding="async" width="120" height="80" srcset="https://linux-sunxi.org/images/thumb/8/86/Allwinner_Nezha_UART.jpg/180px-Allwinner_Nezha_UART.jpg 1.5x, https://linux-sunxi.org/images/thumb/8/86/Allwinner_Nezha_UART.jpg/240px-Allwinner_Nezha_UART.jpg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:34.5px auto;"><a href="https://linux-sunxi.org/File:Nezha-reset.jpeg" class="image"><img alt="Nezha-reset.jpeg" src="https://linux-sunxi.org/images/thumb/4/49/Nezha-reset.jpeg/120px-Nezha-reset.jpeg" decoding="async" width="120" height="81" srcset="https://linux-sunxi.org/images/thumb/4/49/Nezha-reset.jpeg/180px-Nezha-reset.jpeg 1.5x, https://linux-sunxi.org/images/thumb/4/49/Nezha-reset.jpeg/240px-Nezha-reset.jpeg 2x" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<h1><span class="mw-headline" id="Schematic">Schematic</span></h1>
<ul><li><a class="external text" href="http://dl.linux-sunxi.org/D1/D1_Nezha_development_board_schematic_diagram_20210224.pdf">V1.0 board schematic</a></li>
<li><a class="external text" href="http://dl.linux-sunxi.org/D1/D1_Nezha_development_board_silkscreen_20210224.pdf">V1.0 board layout and silkscreen</a></li></ul>
<h1><span class="mw-headline" id="See_also">See also</span></h1>
<ul><li><a rel="nofollow" class="external text" href="https://www.indiegogo.com/projects/nezha-your-first-64bit-risc-v-linux-sbc-for-iot">IndieGogo campaign</a></li>
<li><a rel="nofollow" class="external text" href="https://whycan.com/t_6440.html">Data gathering thread on whycan.com (chinese)</a></li></ul>
<h2><span class="mw-headline" id="Manufacturer_images">Manufacturer images</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://whycan.com/files/members/3907/D1%E5%93%AA%E5%90%92HDMI%E6%B5%8B%E8%AF%95%E5%9B%BA%E4%BB%B6.7z">D1_Nezha_HDMI_test_firmware Image from whycan.com (requires regristration)</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20251029162827
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.100 seconds
Real time usage: 0.131 seconds
Preprocessor visited node count: 491/1000000
Post‐expand include size: 7279/2097152 bytes
Template argument size: 2866/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7049/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   28.340      1 -total
 82.95%   23.507      1 Template:Infobox_Board
 27.67%    7.842     20 Template:Infobox/entry
 17.97%    5.092      2 Template:Infobox/header
 16.44%    4.658      1 Template:Remove_only_when_finished
  7.57%    2.145      1 Template:Red
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3993-0!canonical and timestamp 20251029162826 and revision id 26440
 -->
</div></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://linux-sunxi.org/index.php?title=Allwinner_Nezha&amp;oldid=26440">https://linux-sunxi.org/index.php?title=Allwinner_Nezha&amp;oldid=26440</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://linux-sunxi.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://linux-sunxi.org/Category:NDH_TODO" title="Category:NDH TODO">NDH TODO</a></li><li><a href="https://linux-sunxi.org/Category:Devices" title="Category:Devices">Devices</a></li><li><a href="https://linux-sunxi.org/Category:Devices_with_Ethernet_port" title="Category:Devices with Ethernet port">Devices with Ethernet port</a></li><li><a href="https://linux-sunxi.org/Category:Devices_with_Wifi" title="Category:Devices with Wifi">Devices with Wifi</a></li><li><a href="https://linux-sunxi.org/Category:Devices_with_HDMI_port" title="Category:Devices with HDMI port">Devices with HDMI port</a></li><li><a href="https://linux-sunxi.org/Category:Devices_with_LVDS_port" title="Category:Devices with LVDS port">Devices with LVDS port</a></li><li><a href="https://linux-sunxi.org/Category:D1_Boards" title="Category:D1 Boards">D1 Boards</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-personal" class="vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label">
		<span>Personal tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="pt-createaccount"><a href="https://linux-sunxi.org/index.php?title=Special:CreateAccount&amp;returnto=Allwinner+Nezha" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://linux-sunxi.org/index.php?title=Special:UserLogin&amp;returnto=Allwinner+Nezha" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li></ul>
		
	</div>
</nav>


		<div id="left-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-namespaces" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label">
		<span>Namespaces</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected"><a href="Allwinner_Nezha.html" title="View the content page [c]" accesskey="c">Page</a></li><li id="ca-talk" class="new"><a href="https://linux-sunxi.org/index.php?title=Talk:Allwinner_Nezha&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-variants" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>Variants</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


		</div>
		<div id="right-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-views" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label">
		<span>Views</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-view" class="collapsible selected"><a href="Allwinner_Nezha.html">Read</a></li><li id="ca-viewsource" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=Allwinner_Nezha&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history" class="collapsible"><a href="https://linux-sunxi.org/index.php?title=Allwinner_Nezha&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-cactions" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-cactions-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>More</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


			<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">Search</label>
	</h3>
	<form action="https://linux-sunxi.org/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="Search linux-sunxi.org" title="Search linux-sunxi.org [f]" accesskey="f" id="searchInput"/>
			<input type="hidden" name="title" value="Special:Search">
			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a  title="Visit the main page" class="mw-wiki-logo" href="Main_Page.html"></a>
	</div>
	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-navigation" class="vector-menu vector-menu-portal portal portal-first" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<h3 id="p-navigation-label">
		<span>Navigation</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-portal"><a href="sunxi:Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="https://linux-sunxi.org/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="https://linux-sunxi.org/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="The place to find out">Help</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-tb" class="vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label">
		<span>Tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere"><a href="https://linux-sunxi.org/Special:WhatLinksHere/Allwinner_Nezha" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://linux-sunxi.org/Special:RecentChangesLinked/Allwinner_Nezha" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://linux-sunxi.org/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://linux-sunxi.org/index.php?title=Allwinner_Nezha&amp;oldid=26440" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://linux-sunxi.org/index.php?title=Allwinner_Nezha&amp;action=info" title="More information about this page">Page information</a></li></ul>
		
	</div>
</nav>


	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
		<li id="footer-info-lastmod"> This page was last edited on 18 May 2025, at 15:48.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a> unless otherwise noted.</li>
	</ul>
	<ul id="footer-places" >
		<li id="footer-places-privacy"><a href="https://linux-sunxi.org/sunxi:Privacy_policy" title="sunxi:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="https://linux-sunxi.org/sunxi:About" title="sunxi:About">About linux-sunxi.org</a></li>
		<li id="footer-places-disclaimer"><a href="https://linux-sunxi.org/sunxi:General_disclaimer" title="sunxi:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="https://linux-sunxi.org/resources/assets/licenses/cc-by.png" alt="Creative Commons Attribution" width="88" height="31" loading="lazy"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://linux-sunxi.org/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://linux-sunxi.org/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</footer>



<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.100","walltime":"0.131","ppvisitednodes":{"value":491,"limit":1000000},"postexpandincludesize":{"value":7279,"limit":2097152},"templateargumentsize":{"value":2866,"limit":2097152},"expansiondepth":{"value":6,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":7049,"limit":5000000},"timingprofile":["100.00%   28.340      1 -total"," 82.95%   23.507      1 Template:Infobox_Board"," 27.67%    7.842     20 Template:Infobox/entry"," 17.97%    5.092      2 Template:Infobox/header"," 16.44%    4.658      1 Template:Remove_only_when_finished","  7.57%    2.145      1 Template:Red"]},"cachereport":{"timestamp":"20251029162827","ttl":86400,"transientcontent":false}}});});</script>
<!-- No web analytics configured. -->

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":265});});</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"016cbc9bb6a94e94934580b61e921a02","server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body></html>
